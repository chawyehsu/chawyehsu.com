(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{104:function(t,e,a){t.exports={srcSet:a.p+"images/20170212002-63be1d1c.webp 846w,"+a.p+"images/20170212002-693838a5.webp 720w,"+a.p+"images/20170212002-baf748cf.webp 480w",images:[{path:a.p+"images/20170212002-63be1d1c.webp",width:846,height:577},{path:a.p+"images/20170212002-693838a5.webp",width:720,height:491},{path:a.p+"images/20170212002-baf748cf.webp",width:480,height:327}],src:a.p+"images/20170212002-63be1d1c.webp",toString:function(){return a.p+"images/20170212002-63be1d1c.webp"},placeholder:"data:image/webp;base64,UklGRiIBAABXRUJQVlA4IBYBAADwBQCdASooABsAPlEijEQjoiEYDVQAOAUEsYAXf+AopTG+bv/qULZl9QxdHHCWKO9IspjQx6/MAAD+7j/8y8Z47bd/TGeZOum3/vV4pJPo/igzgdOseYBw6uDtv7pP6YH9o2EOe/035li5QnOk699LuswbqJgM3y5/oIiDrSY4mIR+nY5O//1X8aX9G/0Gf4d1B3xN+70BIlhLInwu6SmuyF07BIQK6P9cLe56F1KtPnafTU8okIVp7vrJzT4roGoJ6XlPt5YAd/GHKJFIx6/mZN1hDKPp6JB5wxdIdX2z1970hH+zeSM6Q/+rZFBMspMBfq9uNhCFl0xFvlXMIuPaSSM7e8r2zjVLAb2qsr0jLgnm0DgAAA==",width:846,height:577}},105:function(t,e,a){t.exports={srcSet:a.p+"images/20170212003-55d11d6b.webp 843w,"+a.p+"images/20170212003-d5621267.webp 720w,"+a.p+"images/20170212003-e09e0d18.webp 480w",images:[{path:a.p+"images/20170212003-55d11d6b.webp",width:843,height:614},{path:a.p+"images/20170212003-d5621267.webp",width:720,height:524},{path:a.p+"images/20170212003-e09e0d18.webp",width:480,height:350}],src:a.p+"images/20170212003-55d11d6b.webp",toString:function(){return a.p+"images/20170212003-55d11d6b.webp"},placeholder:"data:image/webp;base64,UklGRjwBAABXRUJQVlA4IDABAABwBgCdASooAB0APlEijUSjoiEYCqwAOAUEsoBltO58w2koVY/ML7GbOdc+eSe0yih06gEg1NbE6HJP6QAA/ugA/9CKOxc/eWZr+MYOKa9yXWyIIPAe+PNee4qf1Lyef/3h+Xtb4FH3pCRLQpdWlbQD/7iAHDf0ERBtjpHtWpCCsZq7+4+/EX+jfNBGf0OTElqAOakzc4Vqz3AYnVLiJ7AwOUz4NX1aQ/7gCMr+4fWGfA4Bxrmvyjbj/R6VTJ72YrGoQNQC7w9xPQHDSp7JBRxctcEDCExFBwEgYP8LXBNpL/XSa15vXNBwdOS56uEnwt1UbIZXASTDKt7ca2R0KvBx9mnVfBS5e56IQU8gQCZWqdlAYpE9SE3VfQGp7/tVkXbWfLqH1H9Y94Vg3e++HRgA",width:843,height:614}},106:function(t,e,a){t.exports={srcSet:a.p+"images/20170212004-d8a77988.webp 944w,"+a.p+"images/20170212004-56be0e33.webp 720w,"+a.p+"images/20170212004-e16424a9.webp 480w",images:[{path:a.p+"images/20170212004-d8a77988.webp",width:944,height:874},{path:a.p+"images/20170212004-56be0e33.webp",width:720,height:667},{path:a.p+"images/20170212004-e16424a9.webp",width:480,height:444}],src:a.p+"images/20170212004-d8a77988.webp",toString:function(){return a.p+"images/20170212004-d8a77988.webp"},placeholder:"data:image/webp;base64,UklGRhQBAABXRUJQVlA4IAgBAAAQBwCdASooACUAPlEmj0YjoiEhI4kAcAoJZwDLqAgdn0YDr/h4/Pu83LfqIKz4X/kkPrzaUX9CwHGDFfcZfZ9KgAD++r54oaBbeUMwSRLNv6f+OlF/eVXGRWpVNDNysVnzkXXMW7WDdKh4O5CQlBM/9GxGXVuCemgJ32To1ek87+t3lok9Zhvk6GgJJ+gA34AJUJp0QVcX6bnCX4l/7+drtXDhp+UKFpLy6RjeonXW/sgIgV8dfIgEqSpQ4ZFjWMMWAfdB8TgS1RzYMjYG1wxGFPFOUBFTLXvNIwaRQrxRKu/OYBF0U60YGIBLFGEF586+QgafvNQpk/g/A/u1QRl2Q46lw5kYCAA=",width:944,height:874}},107:function(t,e,a){t.exports={srcSet:a.p+"images/20170212005-81945a6d.webp 555w,"+a.p+"images/20170212005-05f31cb4.webp 480w",images:[{path:a.p+"images/20170212005-81945a6d.webp",width:555,height:384},{path:a.p+"images/20170212005-05f31cb4.webp",width:480,height:332}],src:a.p+"images/20170212005-81945a6d.webp",toString:function(){return a.p+"images/20170212005-81945a6d.webp"},placeholder:"data:image/webp;base64,UklGRroBAABXRUJQVlA4IK4BAABwBwCdASooABwAPlEijUUjoiEVXAUAOAUEsoBihfe3/x4Gd/1gTJTlzUj7pg8EZB7OQdHrdNBMfo4VsX+7hFyLhdx+AADOLX/B5/QmUda4MN4TFsmXxevP6LrO4TL4Pxc6jbtQT/+Z0HVzhCYCRiyWfEE8FkykiJJl//hy3/1Bk/LTnYQ1kRp2alRYz76mBAmOlAQIofUNxuU4YO6nE3bqekGTHq4Co3ef5U/Ln/1N4zQKT/JvlY4m6aXEg6UK7mfsBJKcD0lXQGsn5n432qOi024elUK9GFe3rnB3z0Ks2ias+qsyjVmli8U5PHqQHxBr2/VH/pA9Jc5klfjwNEBUq/wvxkVioxtahIfCIwSYBQIHS/NVypIfLzGyuGAPdOirmZBzZzQi8fmyPHhNL4CNEiwZsldhLO/mgEFF1TRvorvLhuT1Ikj9CV0KSzwYxO+FC37VQd85Hf9h3ALeZI4IUtLoqnJJn8PrNf6hR6DHdO74STErNF+kB08bGnXgUgjYecGyweDPgCPkLzzH/+3HxwW4TpDxyi4z/RAejUcsKoRqD4OG105rXLIcAAAA",width:555,height:384}},108:function(t,e,a){t.exports={srcSet:a.p+"images/20170212006-406c2195.webp 700w,"+a.p+"images/20170212006-d1a7e909.webp 480w",images:[{path:a.p+"images/20170212006-406c2195.webp",width:700,height:484},{path:a.p+"images/20170212006-d1a7e909.webp",width:480,height:332}],src:a.p+"images/20170212006-406c2195.webp",toString:function(){return a.p+"images/20170212006-406c2195.webp"},placeholder:"data:image/webp;base64,UklGRnIBAABXRUJQVlA4IGYBAABQBwCdASooABwAPlEgjUUjoaEVXAYAOAUEtIBhugQLoCVSd1wr2v0A6eVhtYuAZ3+pALrQQInlPkekUgPsjrj90urgAP72zBBfFXH+wHn/qQ6G+HaaqVlJ2k41aDkP/adjy4k1eOCNKOfu+JDn1/t2DFGyL/gXpD/scRWLm/c/2SDlJ9RJ8l21/Szx7/DxZbX1eA1/C+1oUO33MQoA5nTDxvzJnZO7Kk5n6Cu0TphSYCS8N528APlDCZZvi315NoOjFCLGu1cW3wfM9xiT7Mx4+PO53es9mS0gXgDS1X1dvzL6WjjOKNiTkxTgRHEHfUHKeSX3Q01pqQAzrs2+fM8D/7trOjcWdOf1hwHklT6APmp+70gaD2DXW1tt7QHdIjkUNmSzxOjzMjmDW9Xr+52ZKRX4req06Lqfuyc++E3kZR3Y306Ho6OXpfcVz23nQc+4nkr4l6TNlYi0QHjXAiyxDOj52QAA",width:700,height:484}},536:function(t,e,a){"use strict";a.r(e);var i=a(1),s=function(t){var e,i,s,p,n=(s=void 0,p="2017-02-12 20:44:53",(e={}).type=i="post",e.internal=s,e.contentType="markdown",e.slug="henet-6in4-ipv6-tunnel-on-openwrt",e.content=s,e.createdAt=new Date(1486903493e3),e.updatedAt=new Date(1486903493e3),e.layout=i,e.title="Openwrt 配置 he.net IPv6 隧道",e.date=p,e.updated=p,e.keywords="OpenWrt IPv6,IPv6 隧道,Openwrt 6in4,he.net",e.description="本文将介绍关于 OpenWrt IPv6 He.net 相关的内容，记录如何利用 he.net 在 Openwrt 配置 IPv6 隧道，以及配置完成后进行 ipv6 测试验证，确定 Openwrt 6in4 的可用性。 ",e.assets={cover:a(75)},e.markdownHeadings=[{text:"创建 HE 6in4 隧道",slug:"创建-he-6in4-隧道",level:2},{text:"Openwrt 配置 HE 6in4",slug:"openwrt-配置-he-6in4",level:2}],e.excerpt="<p>之前还在大学时，除开锐捷，由于内网的原因，要玩 IPv6 的话就只能用六飞之类的工具。工作后，发现在住所报装的网络，居然给（是的，长这么大第一次在家用宽带得到）了公网 IP。刚开始时想过利用这个公网 IP 来搞个 Minecraft“家庭服”，对小伙伴们开放。但折腾下来发现上传太可怜了，还是不祸害小伙伴了。</p>\n",e.permalink="/blog/henet-6in4-ipv6-tunnel-on-openwrt",e.attributes=e,e),o=t.options.beforeCreate||[];t.options.beforeCreate=[function(){this.$page=n}].concat(o);["layout","transition"].forEach((function(e){var a=t.options.PageComponent;a&&(t.options[e]=a[e]),void 0===t.options[e]&&(t.options[e]=n[e])})),n.slug&&(t.options.name="page-wrapper-"+n.slug.replace(/[^0-9a-z\-]/gi,"-"))},p=Object(i.a)({},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("layout-manager",[i("p",[t._v("之前还在大学时，除开锐捷，由于内网的原因，要玩 IPv6 的话就只能用六飞之类的工具。工作后，发现在住所报装的网络，居然给（是的，长这么大第一次在家用宽带得到）了公网 IP。刚开始时想过利用这个公网 IP 来搞个 Minecraft“家庭服”，对小伙伴们开放。但折腾下来发现上传太可怜了，还是不祸害小伙伴了。")]),t._v(" "),i("p",[t._v("就这样过了许久。突然心血来潮，看能不能试试在校时想搞的 "),i("saber-link",{attrs:{to:"http://he.net"}},[t._v("he.net")]),t._v(" 6in4 隧道，发现配置下来还挺简单的。因为这个玩法其实已经有好多人实践过了"),i("sup",{staticClass:"footnote-ref"},[i("saber-link",{attrs:{id:"fnref1",to:"#fn1"}},[t._v("[1]")])],1),i("sup",{staticClass:"footnote-ref"},[i("saber-link",{attrs:{id:"fnref2",to:"#fn2"}},[t._v("[2]")])],1),i("sup",{staticClass:"footnote-ref"},[i("saber-link",{attrs:{id:"fnref3",to:"#fn3"}},[t._v("[3]")])],1),i("sup",{staticClass:"footnote-ref"},[i("saber-link",{attrs:{id:"fnref4",to:"#fn4"}},[t._v("[4]")])],1),t._v("，我也就是搜搜折腾记录下。")],1),t._v(" "),i("h2",{attrs:{id:"创建-he-6in4-隧道"}},[t._v("创建 HE 6in4 隧道")]),t._v(" "),i("p",[t._v("支持 IPv6 以及 6in4 的 Openwrt 路由器是前提了。到 "),i("saber-link",{attrs:{to:"https://tunnelbroker.net/"}},[t._v("https://tunnelbroker.net/")]),t._v(" 注册一个新帐号。登录后，点击左侧的 User Functions 中的 Create Regular Tunnel 创建新的隧道。")],1),t._v(" "),i("Photoswipe",{attrs:{auto:""}},[i("figure",{attrs:{"data-type":"image","data-pswp":"true",itemscope:"",itemprop:"associatedMedia",itemtype:"http://schema.org/ImageObject"}},[i("saber-image",{attrs:{src:a(104),alt:"","data-pswp-title":"",loading:"lazy"}})],1)]),t._v(" "),i("p",[t._v("在 Ipv4 Endpoint 中填入路由器 wan 口的公网 IP。然后在下面的 Available Tunnel Servers 选择一个 he 的 6in4 隧道服务器。列表有显示地区和服务器的 IPv4，可选择一个连接速度较快延迟较低的（提示：并不是亚洲区就最快，建议本机 ping 一下看看，我选的就不是亚洲区）。最后点击 Create Tunnel 便创建了一个 6in4 隧道。")]),t._v(" "),i("Photoswipe",{attrs:{auto:""}},[i("figure",{attrs:{"data-type":"image","data-pswp":"true",itemscope:"",itemprop:"associatedMedia",itemtype:"http://schema.org/ImageObject"}},[i("saber-image",{attrs:{src:a(105),alt:"","data-pswp-title":"",loading:"lazy"}})],1)]),t._v(" "),i("p",[t._v("其中 IPv6 Tunnel Endpoints 部分是这个 6in4 隧道两端的 IPv4 和 IPv6 地址。Server 是 HE 的隧道服务器，Client 是我们的路由器或计算机。下方的 Routed IPv6 Prefixes 是该隧道可用于分配的 IPv6 地址段，可为路由器背后的内网机器都分配上唯一的 IPv6 地址。")]),t._v(" "),i("div",{staticClass:"gad"},[i("adsbygoogle",{attrs:{"ad-layout":"in-article","ad-format":"fluid","ad-slot":"8422573867"}})],1),t._v(" "),i("h2",{attrs:{id:"openwrt-配置-he-6in4"}},[t._v("Openwrt 配置 HE 6in4")]),t._v(" "),i("p",[t._v("在 Luci 界面中，依次点击“网络”-“接口”-“添加新接口”创建新接口。接口名称随意，这里为方便辨认以 HENET 为例，协议选择 IPv6-in-IPv4 (RFC4213)，然后提交。")]),t._v(" "),i("Photoswipe",{attrs:{auto:""}},[i("figure",{attrs:{"data-type":"image","data-pswp":"true",itemscope:"",itemprop:"associatedMedia",itemtype:"http://schema.org/ImageObject"}},[i("saber-image",{attrs:{src:a(106),alt:"","data-pswp-title":"",loading:"lazy"}})],1)]),t._v(" "),i("p",[t._v("接着“基本配置”。“本地IPv4地址”留空，“远程IPv4地址”填写上面创建的 HE 6in4 隧道中的“Server IPv4 Address”，“本地IPv6地址”填写隧道中的“Client IPv6 Address”，“IPv6 routed prefix”填写隧道中的“Routed /64”。")]),t._v(" "),i("p",[t._v("然后勾选“启用HE.net动态终端更新”，填写相应的“隧道ID”，“HE.net用户ID”，“HE.net密码”。这里注意“HE.net用户ID”提示说“这是32 byte hex编码的用户ID，不是登录名”，也即不是注册时的用户名，这个值可以点击左侧的 Main Page 中找到。")]),t._v(" "),i("Photoswipe",{attrs:{auto:""}},[i("figure",{attrs:{"data-type":"image","data-pswp":"true",itemscope:"",itemprop:"associatedMedia",itemtype:"http://schema.org/ImageObject"}},[i("saber-image",{attrs:{src:a(107),alt:"","data-pswp-title":"",loading:"lazy"}})],1)]),t._v(" "),i("p",[t._v("接着在防火墙设置页中，确保防火墙区域跟 wan 的相同。最后保存应用，到此配置就完成了。剩下的就是测试了。看下网卡能否正常获得 IPv6 地址，到 "),i("saber-link",{attrs:{to:"http://ipv6-test.com/"}},[t._v("http://ipv6-test.com/")]),t._v(" 检查一下 IPv6 状态。访问 "),i("saber-link",{attrs:{to:"https://ipv6.google.com/"}},[t._v("https://ipv6.google.com/")]),t._v(" 试试，可用！聊胜于无，哈~")],1),t._v(" "),i("Photoswipe",{attrs:{auto:""}},[i("figure",{attrs:{"data-type":"image","data-pswp":"true",itemscope:"",itemprop:"associatedMedia",itemtype:"http://schema.org/ImageObject"}},[i("saber-image",{attrs:{src:a(108),alt:"","data-pswp-title":"",loading:"lazy"}})],1)]),t._v(" "),i("hr",{staticClass:"footnotes-sep"}),t._v(" "),i("section",{staticClass:"footnotes"},[i("ol",{staticClass:"footnotes-list"},[i("li",{staticClass:"footnote-item",attrs:{id:"fn1"}},[i("p",[i("saber-link",{attrs:{to:"https://ekszz.com/blog/?p=20"}},[t._v("使用HE的6in4隧道来访问ipv6")]),t._v(" "),i("saber-link",{staticClass:"footnote-backref",attrs:{to:"#fnref1"}},[t._v("↩︎")])],1)]),t._v(" "),i("li",{staticClass:"footnote-item",attrs:{id:"fn2"}},[i("p",[i("saber-link",{attrs:{to:"https://ekszz.com/blog/?p=115"}},[t._v("Openwrt配置6in4访问ipv6网络")]),t._v(" "),i("saber-link",{staticClass:"footnote-backref",attrs:{to:"#fnref2"}},[t._v("↩︎")])],1)]),t._v(" "),i("li",{staticClass:"footnote-item",attrs:{id:"fn3"}},[i("p",[i("saber-link",{attrs:{to:"http://demon.tw/hardware/openwrt-6in-ipv6.html"}},[t._v("OpenWrt配置he.net的6in4隧道访问IPv6")]),t._v(" "),i("saber-link",{staticClass:"footnote-backref",attrs:{to:"#fnref3"}},[t._v("↩︎")])],1)]),t._v(" "),i("li",{staticClass:"footnote-item",attrs:{id:"fn4"}},[i("p",[i("saber-link",{attrs:{to:"https://typeblog.net/tunnelbroker-on-openwrt/"}},[t._v("在OpenWRT上配置HE IPv6隧道的正确姿势")]),t._v(" "),i("saber-link",{staticClass:"footnote-backref",attrs:{to:"#fnref4"}},[t._v("↩︎")])],1)])])])],1)}),[],!1,null,null,null);"function"==typeof s&&s(p);e.default=p.exports},75:function(t,e,a){t.exports={srcSet:a.p+"images/20181225009-66f97d24.webp 600w,"+a.p+"images/20181225009-369fd2f3.webp 480w",images:[{path:a.p+"images/20181225009-66f97d24.webp",width:600,height:450},{path:a.p+"images/20181225009-369fd2f3.webp",width:480,height:360}],src:a.p+"images/20181225009-66f97d24.webp",toString:function(){return a.p+"images/20181225009-66f97d24.webp"},placeholder:"data:image/webp;base64,UklGRh4BAABXRUJQVlA4IBIBAAAwBgCdASooAB4APk0ejEQioaEarAQAKATEsoBlDNAbYCaVSvA9tMND5slVWVYpxYFZVOMBOPeIVxAAAP7/QSy3Y7udSF9OFZ6On10xjWsEkIaCPhJVp3zae4pm4x51YAHHUD8Z6PFd/VQvg37XrfEDGnp181khUJWIE8YCACKezgwOFLHjTavvw/u+y4Ak/rqm11PvnLWYwzVRoISVi/SiuI8fAgvqSo9vInnFuXUR/k3/yLlemQ1E7+Y297QzfzU/sWfVodPiOAw9K/eG/CMUtJzdQrQLZrEhKerNx/RlBny1Tuv2sqZLAiYtT+Blir2okZ27nAwhWvmNX+Zj+VvRTJ1fHgk7siS1XX6VL5DAAAAA",width:600,height:450}}}]);