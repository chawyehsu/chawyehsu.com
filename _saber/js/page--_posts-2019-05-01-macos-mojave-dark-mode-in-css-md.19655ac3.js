(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{247:function(e,t,a){e.exports={srcSet:a.p+"images/20190501001-13237fab.webp 1118w,"+a.p+"images/20190501001-b3606b94.webp 720w,"+a.p+"images/20190501001-922e3b01.webp 480w",images:[{path:a.p+"images/20190501001-13237fab.webp",width:1118,height:690},{path:a.p+"images/20190501001-b3606b94.webp",width:720,height:444},{path:a.p+"images/20190501001-922e3b01.webp",width:480,height:296}],src:a.p+"images/20190501001-13237fab.webp",toString:function(){return a.p+"images/20190501001-13237fab.webp"},placeholder:"data:image/webp;base64,UklGRtwBAABXRUJQVlA4INABAADQCACdASooABkAPlEgjkUjoiEYCqwAOAUEsYBZ2WoBRNTeQI50I7rMPov2BSKwUHngSmBTsTa7hmLL5a75EBBgnEDJcB+9y95ZanHfKjAAAP77/Pq4gnJOrV847OuDk1nNysrDZ3XSLz+5dOSh3AmmekZJl3zM0XDd8WUDvM1sio2N4Hfnd5pcf4V8Oc532EcSuLKZVfgR7aD+M2SqCFSnLUYFRgNq1Buk753EqPek+twxdl3wW3+esf+oTo6FOsvSx63KSs6YI3Uo9N4x2fj1tztPeWR4/RqDc97vDgJPKWPasdnoIQgR5IbLc3BHd8pmkYSX+RNHnSv0laqEnWhF27ubFn604khUDmX2cc4B4L80PP4/dfmYYnAX/iNbrKVFeajHWMnI3N8tOtXLBFkRXQIGo4OQ7B6vtui2BlePJOj8ysN8Mh3i9q4dU7D7/yBjqZTAmnRBLnUbSkRNNeff8QrL2qRBYWGJxEePrvIkDEk+4UT5EcNKEBpLC37xuTdI+iWFXzv42/msd9x8iKy7bDj8Wpamo3lG2yPQwQAH7pgGvTWDhQE8udOjk2v72ZsBrMcPSp4FyFf4vbql0eoBm5iQv05A0zk99mkKwbgAAA==",width:1118,height:690}},248:function(e,t,a){e.exports={srcSet:a.p+"images/20190501002-9e76daa2.webp 1048w,"+a.p+"images/20190501002-87081bbf.webp 720w,"+a.p+"images/20190501002-402d2c33.webp 480w",images:[{path:a.p+"images/20190501002-9e76daa2.webp",width:1048,height:459},{path:a.p+"images/20190501002-87081bbf.webp",width:720,height:315},{path:a.p+"images/20190501002-402d2c33.webp",width:480,height:210}],src:a.p+"images/20190501002-9e76daa2.webp",toString:function(){return a.p+"images/20190501002-9e76daa2.webp"},placeholder:"data:image/webp;base64,UklGRt4AAABXRUJQVlA4INIAAAAwBgCdASooABEAPlEgi0QjogwGqqocAoJaQDL8f/qUCZlj0vrkltOwZBLffJdux4ZsPZsx1OAR6POoAP7+YbtZopdjM+/x7Ky8E4EQyY4QaNgAhqo2f/U+Ad2H6aulTQN1gC5P7iPPXpVf6cRlQpfaJm9DGoyl6F/8xRC9nZUG3m+B75m4mPnJdSi0SeT9GnvwaI+gX8IKzTYPEBnA3ELUVH/Iya+xvhw1t8yM7sXpnoyo3UY99+7aIwRHzkv+4L0AZ3rDWi1arwTPyH14WAAAAAA=",width:1048,height:459}},249:function(e,t,a){e.exports=a.p+"images/20190501003.dfd7677c.gif"},250:function(e,t,a){e.exports={srcSet:a.p+"images/20190501004-2c46ae1e.webp 1200w,"+a.p+"images/20190501004-3114bad9.webp 720w,"+a.p+"images/20190501004-c7dc145c.webp 480w",images:[{path:a.p+"images/20190501004-2c46ae1e.webp",width:1200,height:739},{path:a.p+"images/20190501004-3114bad9.webp",width:720,height:443},{path:a.p+"images/20190501004-c7dc145c.webp",width:480,height:296}],src:a.p+"images/20190501004-2c46ae1e.webp",toString:function(){return a.p+"images/20190501004-2c46ae1e.webp"},placeholder:"data:image/webp;base64,UklGRv4AAABXRUJQVlA4WAoAAAAQAAAAJwAAGAAAQUxQSDIAAAABF/D+/4iIQW3bNpINZIDcRn//32Y3sturI/o/AffIR8g4jmzDQLfo1kJPiERjDZDfB1ZQOCCmAAAAEAUAnQEqKAAZAD5RIo5FI6IhErWYOAUEtJZgAABCuJh+MYBs/A7hV6qFw/Ue0OIugAD+/gJWWOYe5sq+MckVnS/BWY3Vofk0Pk2ezlycDpHZ0yLzclshnxchrNRuw4MsjeND45kYk1xaZPmMyZ1GXxueSuWkg9M83IEs+FZ/dIJYFOgTDX167hdGmp5tMsa2iYPzxnvuOZIyMShTBnagEVznkNlAAA==",width:1200,height:739}},251:function(e,t,a){e.exports={srcSet:a.p+"images/20190501005-0705b434.webp 1200w,"+a.p+"images/20190501005-3100022d.webp 720w,"+a.p+"images/20190501005-f5402844.webp 480w",images:[{path:a.p+"images/20190501005-0705b434.webp",width:1200,height:739},{path:a.p+"images/20190501005-3100022d.webp",width:720,height:443},{path:a.p+"images/20190501005-f5402844.webp",width:480,height:296}],src:a.p+"images/20190501005-0705b434.webp",toString:function(){return a.p+"images/20190501005-0705b434.webp"},placeholder:"data:image/webp;base64,UklGRsgAAABXRUJQVlA4WAoAAAAQAAAAJwAAGAAAQUxQSCYAAAABF/D+/4iIQVEkqRFIwNEtAHI4i+R95xvR/wm4Bz4mqH1gCcH8EVZQOCB8AAAAMAUAnQEqKAAZAD5RII1EI6IhGA1UADgFBLSAAB6xDdVUmudiQvexRvWFiYmVVkEeqgAA/vsZuc79V8rRR6LaLe6qWgL7tJrwCyECHTPcwAb/im0LfYAFdufL6Uw124pd+zuXrbmbktAGkt2phvLntS08TlOogADnUAAAAA==",width:1200,height:739}},548:function(e,t,a){"use strict";a.r(t);var s=a(1),p=function(e){var t,s,p,o,r=(p=void 0,o="2019-05-01 18:14:40",(t={}).type=s="post",t.internal=p,t.contentType="markdown",t.slug="macos-mojave-dark-mode-in-css",t.content=p,t.createdAt=new Date(155670568e4),t.updatedAt=new Date(155670568e4),t.layout=s,t.title="利用 CSS 媒体查询让网页配色跟随 macOS 深色模式",t.keywords="CSS,media queries,macos dark mode",t.description="苹果公司的操作系统 macOS 从 10.14 Mojave 版本开始，户提供了深色模式（Dark Mode）的外观。本文介绍利用 CSS 媒体查询（media queries）中的 prefers-color-scheme 媒体特征（media feature）做到让网页跟随 macOS Mojave 的黑暗模式进行配色自动切换。",t.date=o,t.updated=o,t.assets={cover:a(86),featured:a(87)},t.featured=!0,t.markdownHeadings=[],t.excerpt='<p>苹果公司的操作系统 macOS 从 10.14 Mojave 版本开始，为用户提供了<a href="https://www.apple.com/cn/macos/mojave/">深色模式</a>的可选外观。用户可以在系统中的通用设置里选择启用深色模式，整个系统的界面会全局变为暗色调。对于夜间使用场景而言，深色模式的界面可能会显得更加友好，也更能让用户集中注意力。</p>\n',t.permalink="/blog/macos-mojave-dark-mode-in-css",t.attributes=t,t),i=e.options.beforeCreate||[];e.options.beforeCreate=[function(){this.$page=r}].concat(i);["layout","transition"].forEach((function(t){var a=e.options.PageComponent;a&&(e.options[t]=a[t]),void 0===e.options[t]&&(e.options[t]=r[t])})),r.slug&&(e.options.name="page-wrapper-"+r.slug.replace(/[^0-9a-z\-]/gi,"-"))},o=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("layout-manager",[s("p",[e._v("苹果公司的操作系统 macOS 从 10.14 Mojave 版本开始，为用户提供了"),s("saber-link",{attrs:{to:"https://www.apple.com/cn/macos/mojave/"}},[e._v("深色模式")]),e._v("的可选外观。用户可以在系统中的通用设置里选择启用深色模式，整个系统的界面会全局变为暗色调。对于夜间使用场景而言，深色模式的界面可能会显得更加友好，也更能让用户集中注意力。")],1),e._v(" "),s("Photoswipe",{attrs:{auto:""}},[s("figure",{attrs:{"data-type":"image","data-pswp":"true",itemscope:"",itemprop:"associatedMedia",itemtype:"http://schema.org/ImageObject"}},[s("saber-image",{attrs:{src:a(247),alt:"Office 365 Dark Mode (Twitter @derek_snook)","data-pswp-title":"Office 365 Dark Mode (Twitter @derek_snook)"}}),s("figcaption",[e._v("Office 365 Dark Mode (Twitter @derek_snook)")])],1)]),e._v(" "),s("p",[e._v("利用苹果公司提供的"),s("saber-link",{attrs:{to:"https://developer.apple.com/documentation/appkit/supporting_dark_mode_in_your_interface"}},[e._v("接口")]),e._v("，各类原生桌面应用程序都开始陆续支持深色模式，可根据 macOS\n用户的系统设置进行换肤，比如 Google Chrome、Microsoft Office 等。")],1),e._v(" "),s("p",[e._v("但对于 Web 应用而言，似乎还没有什么讨论。好消息是 CSS 的媒体查询（media queries）新增加了一个叫做 "),s("code",{pre:!0},[e._v("prefers-color-scheme")]),e._v(" 的媒体特征，开发者可以通过该设置特征，让网站的配色随着 macOS 系统的界面外观色调改变而改变。")]),e._v(" "),s("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"css"}},[s("pre",{pre:!0,attrs:{class:"saber-highlight-code language-css"}},[s("code",{pre:!0,attrs:{class:"language-css"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* 常规浅色模式下的网页背景颜色及文本颜色 */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[e._v("body")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v("background")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" #fff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" #222"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* 深色模式下的网页背景颜色及文本颜色 */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token atrule"}},[s("span",{pre:!0,attrs:{class:"token rule"}},[e._v("@media")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token property"}},[e._v("prefers-color-scheme")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" dark"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")])]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[e._v("body")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v("background-color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" #222"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" #ddd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")])])])]),s("div",{staticClass:"gad"},[s("adsbygoogle",{attrs:{"ad-layout":"in-article","ad-format":"fluid","ad-slot":"8422573867"}})],1),e._v(" "),s("p",[s("code",{pre:!0},[e._v("prefers-color-scheme")]),e._v(" 支持三个值，分别是 "),s("code",{pre:!0},[e._v("no-preference")]),e._v("、"),s("code",{pre:!0},[e._v("light")]),e._v("、以及 "),s("code",{pre:!0},[e._v("dark")]),e._v("，对应是“无指定”、“浅色主题”以及“深色主题”。详情可以查看 "),s("saber-link",{attrs:{to:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/prefers-color-scheme"}},[e._v("MDN")]),e._v(" 说明。")],1),e._v(" "),s("p",[e._v("这个还在 CSS 草案阶段的媒体特征"),s("sup",{staticClass:"footnote-ref"},[s("saber-link",{attrs:{id:"fnref1",to:"#fn1"}},[e._v("[1]")])],1),e._v("，显然尚未被主流浏览器大规模支持，不过已经开始受到部分浏览器支持了。可以从 MDN 或者 "),s("saber-link",{attrs:{to:"https://caniuse.com/#search=prefers-color-scheme"}},[e._v("Can I Use")]),e._v(" 上看到，Firefox 67 以及 Safari\n12.1 开始支持该媒体特征。")],1),e._v(" "),s("Photoswipe",{attrs:{auto:""}},[s("figure",{attrs:{"data-type":"image","data-pswp":"true",itemscope:"",itemprop:"associatedMedia",itemtype:"http://schema.org/ImageObject"}},[s("saber-image",{attrs:{src:a(248),alt:" 兼容性","data-pswp-title":" 兼容性"}}),s("figcaption",[s("code",{pre:!0},[e._v("prefers-color-scheme")]),e._v(" 兼容性")])],1)]),e._v(" "),s("p",[e._v("如果你是 macOS 用户，又正巧使用的是支持该特征的浏览器的话，可以通过切换系统的外观色调，查看到我的博客配色跟随系统色调的变化。")]),e._v(" "),s("Photoswipe",{attrs:{auto:""}},[s("figure",{attrs:{"data-type":"image","data-pswp":"true",itemscope:"",itemprop:"associatedMedia",itemtype:"http://schema.org/ImageObject"}},[s("saber-image",{attrs:{src:a(249),alt:"配色跟随系统色调切换而变化","data-pswp-title":"配色跟随系统色调切换而变化"}}),s("figcaption",[e._v("配色跟随系统色调切换而变化")])],1)]),e._v(" "),s("p",[e._v("除了 Firefox 浏览器之外，也可以用 macOS 系统的 Safari 查看到效果。")]),e._v(" "),s("Photoswipe",{attrs:{auto:""}},[s("figure",{attrs:{"data-type":"image","data-pswp":"true",itemscope:"",itemprop:"associatedMedia",itemtype:"http://schema.org/ImageObject"}},[s("saber-image",{attrs:{src:a(250),alt:"浅色","data-pswp-title":"浅色"}}),s("figcaption",[e._v("浅色")])],1)]),e._v(" "),s("Photoswipe",{attrs:{auto:""}},[s("figure",{attrs:{"data-type":"image","data-pswp":"true",itemscope:"",itemprop:"associatedMedia",itemtype:"http://schema.org/ImageObject"}},[s("saber-image",{attrs:{src:a(251),alt:"深色","data-pswp-title":"深色"}}),s("figcaption",[e._v("深色")])],1)]),e._v(" "),s("p",[e._v("图中的文章见《"),s("saber-link",{attrs:{to:"/blog/2019/04/recent-changes-of-my-site"}},[e._v("总结下博客最近的调整")]),e._v("》。不过其实 "),s("code",{pre:!0},[e._v("prefers-color-scheme")]),e._v(" 只是帮助做到随系统自动变化而已，网站的深浅配色系统本身还是要开发者预先设计好。")],1),e._v(" "),s("hr",{staticClass:"footnotes-sep"}),e._v(" "),s("section",{staticClass:"footnotes"},[s("ol",{staticClass:"footnotes-list"},[s("li",{staticClass:"footnote-item",attrs:{id:"fn1"}},[s("p",[s("saber-link",{attrs:{to:"https://drafts.csswg.org/mediaqueries-5/#descdef-media-prefers-color-scheme"}},[e._v("https://drafts.csswg.org/mediaqueries-5/#descdef-media-prefers-color-scheme")]),e._v(" "),s("saber-link",{staticClass:"footnote-backref",attrs:{to:"#fnref1"}},[e._v("↩︎")])],1)])])])],1)}),[],!1,null,null,null);"function"==typeof p&&p(o);t.default=o.exports},86:function(e,t,a){e.exports={srcSet:a.p+"images/20190501006-3bc483e4.webp 600w,"+a.p+"images/20190501006-d898f3db.webp 480w",images:[{path:a.p+"images/20190501006-3bc483e4.webp",width:600,height:450},{path:a.p+"images/20190501006-d898f3db.webp",width:480,height:360}],src:a.p+"images/20190501006-3bc483e4.webp",toString:function(){return a.p+"images/20190501006-3bc483e4.webp"},placeholder:"data:image/webp;base64,UklGRhwBAABXRUJQVlA4IBABAACQBgCdASooAB4APk0ejkQioaGYDVVUKATEsoBh1sVFqAfqZ/tj338CRf/fQImjJBfxRnfBnRyibukEJTwAAP7/QSoPrPtA/58e1in/A+EaN42LORA6DaB8hxf/f/4cJ1yY0q+VCrYfP5B0H+8AwrRPXDPY5gFrKLNAeaCWtKGj3mwapC87i7JjqpNDaVvlXr0zH0WV/YLFuWf6+oOb4wS3hY/a5jk5YAaatyOyS+8HYGo9gvnpkQO+akfCnCrSqsqhtXu70PLHt04uzHYPdJBOQf+c3j/Fuj9VPYz7i8DCP1pO/QMNZ6fQun4zgtbJPv5rGG9s/64/2fcwWXt0wfF74P4BA0sMIUebq4q9gAAAAA==",width:600,height:450}},87:function(e,t,a){e.exports={srcSet:a.p+"images/20191130004-afd4cfbc.webp 512w,"+a.p+"images/20191130004-a380fa49.webp 480w",images:[{path:a.p+"images/20191130004-afd4cfbc.webp",width:512,height:512},{path:a.p+"images/20191130004-a380fa49.webp",width:480,height:480}],src:a.p+"images/20191130004-afd4cfbc.webp",toString:function(){return a.p+"images/20191130004-afd4cfbc.webp"},placeholder:"data:image/webp;base64,UklGRvQBAABXRUJQVlA4IOgBAADQCgCdASooACgAPlEgi0QjoiEXHAZkOAUEtIAHSRsV95cQDVO/5jjA4xfAljE8+7PMqFfrMF3k6h5hU2osse/xHBE71mF6VZyoTINHlTvJV7sSYLCOSh40Cq8ZfOhYAAD+/i4cn64lbreUf9LuIazupdAxbtNxx/Ag/a6ETAIzcv6NaG6+W+3oZV02IieXC6t7l72k++M6dDQpl3Js0PZ7rBbJALzhSTiHkA8kJ78vSWt5rrZAjQ5ObMjhh2tbk+ngu+bnEoun830qZANBJZP6uKCGXoyVKf+7nDEHbRooR4T1e6JbdpNlt4cVqji3hOkzWKUbk8L+ekV17zdENoVnHbDCslSe35gY0SRITn+QsFUma0HNg1th4Txdv830Ysp7WTysaMvXUd3Vzy/DL64f3lau/+tLto8rY1FUi+5icmMQJCeJTQfFg8xTtgIOIeyHwBBA9P5Bh7xCdPO1+QiOwzgAm9usDMPA43tk7zRWTR+o8DhP+cO2iYrRivgwYMu5TYtLR8V26xkw46jFZ5ol0FCPoysPCR8zeB4pN0ImmaeGJX6uw1TiN/xPpcS56jTAjT1ijovfmc74zZHBOiBRR8VZxlnqCltLARiGU9WyVITWfYI7i4wDDxFr9Hnh3FgFVoNsqQAAAA==",width:512,height:512}}}]);