"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5075],{79919:W=>{/*! DisqusJS v1.3.0 | Sukka (https://skk.moe) | https://disqusjs.skk.moe | MIT License */function w(i,p){var a;if(typeof Symbol<"u"&&i[Symbol.iterator]!=null)return(a=i[Symbol.iterator]()).next.bind(a);if(Array.isArray(i)||(a=X(i))||p&&i&&typeof i.length=="number"){a&&(i=a);var b=0;return function(){return b>=i.length?{done:!0}:{done:!1,value:i[b++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X(i,p){if(i){if(typeof i=="string")return F(i,p);var a=Object.prototype.toString.call(i).slice(8,-1);return a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set"?Array.from(i):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?F(i,p):void 0}}function F(i,p){(p==null||p>i.length)&&(p=i.length);for(var a=0,b=new Array(p);a<p;a++)b[a]=i[a];return b}function Z(i){(function(p,a,b,J,Q){function $(){for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return($=Object.assign||function(v){for(var l,d=w(arguments);!(l=d()).done;){var u=l.value;for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(v[r]=u[r])}return v}).apply(this,n)}var m=function(t){return a.getElementById(t)},M=function(t){var n=m("dsqjs-msg");n&&(n.innerHTML=t)},h="click",I="disqus_thread",U="dsqjs_sort",N='target="_blank" rel="external nofollow noopener noreferrer"',_='<footer><p class="dsqjs-footer">Powered by <a class="dsqjs-disqus-logo" href="https://disqus.com" '+N+'></a>&nbsp;&amp;&nbsp;<a href="https://disqusjs.skk.moe" target="_blank">DisqusJS</a></p></footer>',ss=function(t,n){return'<header class="dsqjs-header" id="dsqjs-header"><nav class="dsqjs-nav dsqjs-clearfix"><ul><li class="dsqjs-nav-tab dsqjs-tab-active"><span>'+t+' Comments</span></li><li class="dsqjs-nav-tab">'+n+'</li></ul><div class="dsqjs-order"><input class="dsqjs-order-radio" id="dsqjs-order-desc" type="radio" name="comment-order" value="desc" checked="true"><label class="dsqjs-order-label" for="dsqjs-order-desc" title="\u6309\u4ECE\u65B0\u5230\u65E7">\u6700\u65B0</label><input class="dsqjs-order-radio" id="dsqjs-order-asc" type="radio" name="comment-order" value="asc"><label class="dsqjs-order-label" for="dsqjs-order-asc" title="\u6309\u4ECE\u65E7\u5230\u65B0">\u6700\u65E9</label><input class="dsqjs-order-radio" id="dsqjs-order-popular" type="radio" name="comment-order" value="popular"><label class="dsqjs-order-label" for="dsqjs-order-popular" title="\u6309\u8BC4\u5206\u4ECE\u9AD8\u5230\u4F4E">\u6700\u4F73</label></div></nav></header>'},es=function(t,n,c){var v=t.avatarEl,l=t.createdAt;return'<div class="dsqjs-post-item dsqjs-clearfix"><div class="dsqjs-post-avatar">'+v+'</div><div class="dsqjs-post-body"><div class="dsqjs-post-header">'+n+'<span class="dsqjs-meta"><time>'+ts(l)+'</time></span></div><div class="dsqjs-post-content">'+c+"</div></div></div>"},k='\u5982\u9700\u5B8C\u6574\u4F53\u9A8C\u8BF7\u9488\u5BF9 disq.us | disquscdn.com | disqus.com \u542F\u7528\u4EE3\u7406\u5E76 <a id="dsqjs-reload-disqus" class="dsqjs-msg-btn">\u5C1D\u8BD5\u5B8C\u6574 Disqus \u6A21\u5F0F</a> | <a id="dsqjs-force-disqus" class="dsqjs-msg-btn">\u5F3A\u5236\u5B8C\u6574 Disqus \u6A21\u5F0F</a>',G=function(t){return J(t,{method:"GET"}).then(function(n){return Q.all([n.ok,n.status,n.json(),n.headers])}).then(function(n){var c=n[0],v=n[1],l=n[2],d=n[3];if(c)return{ok:c,status:v,data:l,headers:d};throw new Error}).catch(function(n){throw n})},S=function(t,n){try{b.setItem(t,n)}catch{}},ts=function(t){function n(c){return c<10?"0"+c:c}return t=Date.parse(new Date(t)),(t=new Date(t+288e5)).getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+" "+n(t.getHours())+":"+n(t.getMinutes())};function R(){var t;p.DISQUS?p.DISQUS.reset({reload:!0,config:function(){this.page.identifier=e.config.identifier,this.page.url=e.config.url,this.page.title=e.config.title}}):(t=a.createElement("script"),m(I).innerHTML='<div id="dsqjs"><section><div id="dsqjs-msg">\u8BC4\u8BBA\u5B8C\u6574\u6A21\u5F0F\u52A0\u8F7D\u4E2D... \u5982\u679C\u957F\u65F6\u95F4\u65E0\u6CD5\u52A0\u8F7D\uFF0C\u8BF7\u9488\u5BF9 disq.us | disquscdn.com | disqus.com \u542F\u7528\u4EE3\u7406\uFF0C\u6216\u5207\u6362\u81F3 <a id="dsqjs-force-dsqjs" class="dsqjs-msg-btn">\u8BC4\u8BBA\u57FA\u7840\u6A21\u5F0F</a></div></section>'+_+"</div>",m("dsqjs-force-dsqjs").addEventListener(h,P),t.src="https://"+e.config.shortname+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(a.head||a.body).appendChild(t))}function A(){m(I).innerHTML='<div id="dsqjs"><section><div id="dsqjs-msg">\u6B63\u5728\u68C0\u67E5 Disqus \u80FD\u5426\u8BBF\u95EE...</div></section>'+_+"</div>";for(var t=["disqus.com",e.config.shortname+".disqus.com"],n=0,c=0,v=function(){t.length===n&&n===c?B():t.length===n&&P()},l=0,d=t;l<d.length;l++)(function(u){var r=new Image,g=setTimeout(function(){r.onerror=r.onload=null,n++,v()},3e3);r.onerror=function(){clearTimeout(g),n++,v()},r.onload=function(){clearTimeout(g),n++,c++,v()},r.src="https://"+u+"/favicon.ico?"+ +new Date+"="+ +new Date})(d[l])}function H(){m("dsqjs-reload-disqus").addEventListener(h,A),m("dsqjs-force-disqus").addEventListener(h,B)}function O(){M("\u8BC4\u8BBA\u57FA\u7840\u6A21\u5F0F\u52A0\u8F7D\u4E2D... "+k),H();var t=e.config.api+"3.0/threads/list.json?forum="+e.config.shortname+"&thread=ident:"+e.config.identifier+"&api_key="+K();G(t).then(function(l){var d=l.data;if(d.code===0&&d.response.length===1){var u=d.response[0],r=u.id,g=u.title,s=u.isClosed,q=u.posts;e.page={id:r,title:g,isClosed:s,length:q,comment:[]},m(I).innerHTML='<div id="dsqjs"><div id="dsqjs-msg">\u8BC4\u8BBA\u57FA\u7840\u6A21\u5F0F\u52A0\u8F7D\u4E2D... '+k+"</div>"+ss(q,e.config.siteName)+'<section class="dsqjs-post-container"><ul class="dsqjs-post-list" id="dsqjs-post-container"><p class="dsqjs-no-comment">\u8BC4\u8BBA\u5217\u8868\u52A0\u8F7D\u4E2D...</p></ul><a id="dsqjs-load-more" class="dsqjs-load-more dsqjs-hide">\u52A0\u8F7D\u66F4\u591A\u8BC4\u8BBA</a></section>'+_+"</div>",H(),m("dsqjs-order-"+e.sortType).setAttribute("checked","true"),c()}else{if(d.code!==0||d.response.length===1)throw new Error;M('\u5F53\u524D Thread \u5C1A\u672A\u521B\u5EFA\u3002\u662F\u5426\u5207\u6362\u81F3 <a id="dsqjs-force-disqus" class="dsqjs-msg-btn">\u5B8C\u6574 Disqus \u6A21\u5F0F</a>\uFF1F'),m("dsqjs-force-disqus").addEventListener(h,B)}}).catch(Y);function n(l){function d(s){return{comment:s,author:s.author.name,isPrimary:!!e.config.admin&&s.author.username===e.config.admin,children:g(+s.id),hasMore:s.hasMore}}var u=[],r=[],g=function(s){if(r.length===0)return null;for(var q,y=[],E=w(r);!(q=E()).done;){var j=q.value;j.parent===s&&y.unshift(d(j))}return y.length?y:null};return l.forEach(function(s){(s.parent?r:u).push(s)}),u.map(d)}var c=function l(d){d===void 0&&(d="");function u(){for(var o,f=w(g);!(o=f()).done;)o.value.removeEventListener("change",y);r.removeEventListener(h,q);for(var L,C=w(s);!(L=C()).done;)L.value.removeEventListener(h,A)}var r=m("dsqjs-load-more"),g=a.getElementsByClassName("dsqjs-order-radio"),s=a.getElementsByClassName("dsqjs-has-more-btn"),q=function(){u(),l(e.page.next)},y=function(o){var f=o.target;e.sortType=f.getAttribute("value"),S(U,e.sortType),u(),e.page.comment=[],e.page.next="",m("dsqjs-post-container").innerHTML='<p class="dsqjs-no-comment">\u6B63\u5728\u5207\u6362\u6392\u5E8F\u65B9\u5F0F...</p>',r.classList.add("dsqjs-hide"),l()},E=d===""?"":"&cursor="+d;r.classList.add("dsqjs-disabled");function j(o){var f=o.createdAt;return Date.parse(new Date(f))}function D(o,f){return o.parent&&f.parent?j(o)-j(f):0}var T=e.config.api+"3.0/threads/listPostsThreaded?forum="+e.config.shortname+"&thread="+e.page.id+E+"&api_key="+K()+"&order="+e.sortType;G(T).then(function(o){var f,L=o.data;if(L.code===0&&0<L.response.length){r.classList.remove("dsqjs-disabled"),(f=e.page.comment).push.apply(f,L.response),e.page.comment.sort(D),v(e.page.comment);for(var C,ns=w(g);!(C=ns()).done;)C.value.addEventListener("change",y);for(var V,rs=w(s);!(V=rs()).done;)V.value.addEventListener(h,A);L.cursor.hasNext?(e.page.next=L.cursor.next,r.innerHTML="\u52A0\u8F7D\u66F4\u591A\u8BC4\u8BBA",r.classList.remove("dsqjs-hide"),r.addEventListener(h,q)):r.classList.add("dsqjs-hide")}else{if(L.code!==0||L.response.length!==0)throw new Error;M("\u4F60\u53EF\u80FD\u65E0\u6CD5\u8BBF\u95EE Disqus\uFF0C\u5DF2\u542F\u7528\u8BC4\u8BBA\u57FA\u7840\u6A21\u5F0F\u3002"+k),m("dsqjs-post-container").innerHTML='<p class="dsqjs-no-comment" >'+e.config.nocomment+"</p>",H(),m("dsqjs-force-disqus").addEventListener(h,P)}}).catch(function(){d===""?Y():(r.classList.remove("dsqjs-disabled"),r.innerHTML="\u52A0\u8F7D\u66F4\u591A\u8BC4\u8BBA\u5931\u8D25\uFF0C\u70B9\u51FB\u91CD\u8BD5",r.addEventListener(h,q))})},v=function(l){function d(s){return s.comment.author.profileUrl?(s.comment.avatarEl='<a href="'+s.comment.author.profileUrl+'"><img src="'+r(s.comment.author.avatar.cache)+'" '+N+"></a>",s.comment.authorEl='<span class="dsqjs-post-author"><a href="'+s.comment.author.profileUrl+'" '+N+">"+s.comment.author.name+"</a></span>"):(s.comment.avatarEl='<img src="'+r(s.comment.author.avatar.cache)+'">',s.comment.authorEl='<span class="dsqjs-post-author">'+s.comment.author.name+"</span>"),e.config.adminLabel&&s.isPrimary&&(s.comment.authorEl+='<span class="dsqjs-admin-badge">'+e.config.adminLabel+"</span>"),s}function u(s){var q="",y="",y=s.isDeleted?"<small>\u6B64\u8BC4\u8BBA\u5DF2\u88AB\u5220\u9664</small>":(q=s.authorEl+'<span class="dsqjs-bullet"></span>',function(E){var j=a.createElement("div");j.innerHTML=E;for(var D,T=w(j.getElementsByTagName("a"));!(D=T()).done;){var o=D.value,f=decodeURIComponent(o.href.replace(/https:\/\/disq.us\/url\?url=/g,"")).replace(/(.*):.+cuid=.*/,"$1");o.href=f,o.innerHTML=f,o.rel="external noopener nofollow noreferrer",o.target="_blank"}return j.innerHTML}(r(s.message)));return es(s,q,y)}var r=function(s){return s.replace("/a.disquscdn.com/ig","c.disquscdn.com")},g="";n(l).map(function(s){s.children&&(s.nesting=1);var q="";(s=d(s)).hasMore&&(q='<p class="dsqjs-has-more">\u5207\u6362\u81F3 <a id="load-more-'+s.comment.id+'">\u5B8C\u6574 Disqus \u6A21\u5F0F</a> \u663E\u793A\u66F4\u591A\u56DE\u590D</p>'),g+='<li data-id="comment-'+s.comment.id+'" id="comment-'+s.comment.id+'">'+u(s.comment)+function y(E){var j=E.nesting,D=E.children||[];if(D){var T="",T=j<e.config.nesting?'<ul class="dsqjs-post-list dsqjs-children">':'<ul class="dsqjs-post-list">';return D.map(function(o){(o=d(o)).nesting=j+1;var f="";o.hasMore&&(f='<p class="dsqjs-has-more">\u5207\u6362\u81F3 <a class="dsqjs-has-more-btn" id="load-more-'+o.comment.id+'" data-more-id="comment-'+o.comment.id+'">\u5B8C\u6574 Disqus \u6A21\u5F0F</a> \u663E\u793A\u66F4\u591A\u56DE\u590D</p>'),T+='<li data-id="comment-'+o.comment.id+'" id="comment-'+o.comment.id+'">'+u(o.comment)+y(o)+f+"</li>"}),(T+="</ul>").length!==0?T:void 0}}(s)+q+"</li>"}),M("\u4F60\u53EF\u80FD\u65E0\u6CD5\u8BBF\u95EE Disqus\uFF0C\u5DF2\u542F\u7528\u8BC4\u8BBA\u57FA\u7840\u6A21\u5F0F\u3002"+k),m("dsqjs-post-container").innerHTML=g,H()}}function Y(t){console.log(t),M('\u8BC4\u8BBA\u57FA\u7840\u6A21\u5F0F\u52A0\u8F7D\u5931\u8D25\uFF0C\u662F\u5426 <a id="dsqjs-reload-dsqjs" class="dsqjs-msg-btn">\u91CD\u8F7D</a> \u6216 <a id="dsqjs-reload-disqus" class="dsqjs-msg-btn">\u5C1D\u8BD5\u5B8C\u6574 Disqus \u6A21\u5F0F</a> \uFF1F'),m("dsqjs-reload-dsqjs").addEventListener(h,O),m("dsqjs-reload-disqus").addEventListener(h,A)}function P(){S("dsqjs_mode","dsqjs"),O()}function B(){S("dsqjs_mode","disqus"),R()}var e={},z=a.location.origin+a.location.pathname+a.location.search;e.config=$({api:"https://disqus.skk.moe/disqus/",identifier:z,url:z,title:a.title,siteName:"",nesting:parseInt(i.nesting)||4,nocomment:"\u8FD9\u91CC\u51B7\u51B7\u6E05\u6E05\u7684\uFF0C\u4E00\u6761\u8BC4\u8BBA\u90FD\u6CA1\u6709"},i),e.page={};var x=e.config.apikey,K=function(){return Array.isArray(x)?x[Math.floor(Math.random()*x.length)]:x};p.disqus_config=function(){this.page.url=e.config.url,this.page.identifier=e.config.identifier,this.page.title=e.config.title},m(I).innerHTML='<div id="dsqjs"><div id="dsqjs-msg"></div>'+_+"</div>",J&&b&&Q?(e.mode=b.getItem("dsqjs_mode"),e.sortType=b.getItem(U)||b.getItem("disqus.sort"),e.sortType||(S(U,"desc"),e.sortType="desc"),(e.mode==="disqus"?R:e.mode==="dsqjs"?O:A)()):(M("\u4F60\u7684\u6D4F\u89C8\u5668\u7248\u672C\u8FC7\u4F4E\uFF0C\u4E0D\u517C\u5BB9\u8BC4\u8BBA\u57FA\u7840\u6A21\u5F0F\u3002"+k),H())})(window,document,localStorage,fetch,Promise)}try{W.exports=Z}catch{}}}]);
