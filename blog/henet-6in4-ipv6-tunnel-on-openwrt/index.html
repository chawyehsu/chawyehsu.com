<!DOCTYPE html><html data-saber-ssr lang="zh-cn" data-saber-head="%7B%22lang%22:%7B%22ssr%22:%22zh-cn%22%7D%7D"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="ie=edge" /><meta data-saber-head="ssr" name="generator" content="Saber v0.11.7"><meta data-saber-head="ssr" name="apple-mobile-web-app-capable" content="yes"><meta data-saber-head="ssr" name="apple-mobile-web-app-status-bar-style" content="default"><meta data-saber-head="ssr" name="mobile-web-app-capable" content="yes"><meta data-saber-head="ssr" name="author" content="Chawye Hsu"><meta data-saber-head="ssr" property="og:type" content="website"><meta data-saber-head="ssr" name="twitter:card" content="summary"><meta data-saber-head="ssr" name="twitter:creator" content="Chawye Hsu"><meta data-saber-head="ssr" name="description" content="本文将介绍关于 OpenWrt IPv6 He.net 相关的内容，记录如何利用 he.net 在 Openwrt 配置 IPv6 隧道，以及配置完成后进行 ipv6 测试验证，确定 Openwrt 6in4 的可用性。 " data-hid="description"><meta data-saber-head="ssr" name="keywords" content="blog,blogger,个人博客,中文独立博客"><meta data-saber-head="ssr" property="og:title" content="Openwrt 配置 he.net IPv6 隧道 - The Art of Chawye Hsu"><meta data-saber-head="ssr" property="og:description" content="本文将介绍关于 OpenWrt IPv6 He.net 相关的内容，记录如何利用 he.net 在 Openwrt 配置 IPv6 隧道，以及配置完成后进行 ipv6 测试验证，确定 Openwrt 6in4 的可用性。 "><meta data-saber-head="ssr" name="twitter:title" content="Openwrt 配置 he.net IPv6 隧道 - The Art of Chawye Hsu"><meta data-saber-head="ssr" name="twitter:description" content="本文将介绍关于 OpenWrt IPv6 He.net 相关的内容，记录如何利用 he.net 在 Openwrt 配置 IPv6 隧道，以及配置完成后进行 ipv6 测试验证，确定 Openwrt 6in4 的可用性。 "><meta data-saber-head="ssr" property="og:image" content="https://chawyehsu.com/_saber/images/20181225009-09619599.png"><meta data-saber-head="ssr" property="twitter:image:src" content="https://chawyehsu.com/_saber/images/20181225009-09619599.png"> <title>Openwrt 配置 he.net IPv6 隧道 - The Art of Chawye Hsu</title> <link data-saber-head="ssr" rel="alternate" title="The Art of Chawye Hsu - Feed" href="https://chawyehsu.com/feed/atom.xml" type="application/atom+xml"><link data-saber-head="ssr" href="https://cdn.jsdelivr.net/" rel="preconnect" crossorigin="true"><style data-vue-ssr-id="6f8a3a7e:0 4c40a06b:0 4c40a06b:1 4c40a06b:2 4c40a06b:3 4c40a06b:4 4c40a06b:5 4c40a06b:6 4c40a06b:7 4c40a06b:8 4c40a06b:9 4c40a06b:10 1919c353:0 f2cc8836:0 2bff1d4a:0 846e1aa8:0 846e1aa8:1 b54aa9e0:0">.blendIn_MaOJT[data-src],.blendIn_MaOJT[data-srcset]{transition:filter .3s;filter:blur(5px)}.blendIn_MaOJT[data-lazy-loaded]{filter:none}
/*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */*,:after,:before{box-sizing:border-box}html{line-height:1.15;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji}hr{height:0;color:inherit}abbr[title]{text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}legend{padding:0}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}
:root{--font-family:pt-sans,system-ui,source-han-sans-cjk-sc,-apple-system,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";--font-family-mono:ui-monospace,SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;--font-family-quotemark:"Times New Roman",Times,serif;--container-max-width:1600px;--gap-s:0.4445rem;--gap-m:0.8889rem;--gap-l:1.7778rem;--gap-xl:3.5556rem;--font-size-1:2rem;--font-size-2:1.5rem;--font-size-3:1.25rem;--font-size-4:1.125rem;--font-size-5:1rem;--font-size-6:0.875rem;--font-size-7:0.75rem;--font-size-code:var(--font-size-6);--font-size-footnotes:var(--font-size-7);--font-size-small:var(--font-size-7);--font-size-sub-sup:var(--font-size-7);--line-height-base:1.7778;--line-height-code:1.4;--line-height-small:1.3;--line-height-headline:1.2;--color-accent-0:#fafbfc;--color-accent-1:#f6f8fa;--color-accent-2:#e1e4e8;--color-accent-3:#d1d5da;--color-accent-4:#959da5;--color-accent-5:#6a737d;--color-accent-6:#586069;--color-accent-7:#444d56;--color-accent-8:#2f363d;--color-accent-9:#24292e;--color-background-transparent:hsla(0,0%,100%,0);--color-background:var(--color-accent-0);--color-text-primary:var(--color-accent-8);--color-text-secondary:var(--color-accent-5);--color-text-tertiary:var(--color-accent-4);--color-scrollbar:var(--color-accent-2);--color-scrollbar-hover:var(--color-accent-4);--color-link:var(--color-accent-9)}
/*! minireset.css v0.0.6 | MIT License | github.com/jgthms/minireset.css */blockquote,body,dd,dl,dt,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,html,iframe,legend,li,ol,p,pre,textarea,ul{margin:0;padding:0}ul{list-style:none}button,input,select,textarea{margin:0}img,video{height:auto;max-width:100%}iframe{border:0}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}html{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;box-sizing:border-box;color:var(--color-text-primary);font-size:100%;line-height:var(--line-height-base);font-feature-settings:"liga" 1,"pnum" 1,"kern" 1;text-rendering:optimizeLegibility;text-size-adjust:100%}body{background:var(--color-background);font-family:var(--font-family)}::-webkit-scrollbar{width:6px}::-webkit-scrollbar:horizontal{height:6px}::-webkit-scrollbar-track{background:var(--color-background);border-radius:10px}::-webkit-scrollbar-thumb{background:var(--color-scrollbar);border-radius:10px}::-webkit-scrollbar-thumb:hover{background:var(--color-scrollbar-hover)}.main-container{max-width:var(--container-max-width);margin-left:auto;margin-right:auto}main{display:flex;min-height:100vh;flex-direction:column}blockquote,dd,dl,dt,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,iframe,legend,ol,p,pre,table,textarea,ul{margin-bottom:var(--gap-m)}a{color:inherit;text-decoration:none}a:focus,a:hover{color:var(--color-link);outline:none}a:not(.no-underlines):focus,a:not(.no-underlines):hover{background-image:linear-gradient(var(--color-text-primary),var(--color-text-primary));background-size:100% 1px;background-repeat:repeat-x;background-position:bottom;text-shadow:.03em 0 var(--color-background),-.03em 0 var(--color-background),0 .03em var(--color-background),0 -.03em var(--color-background),.06em 0 var(--color-background),-.06em 0 var(--color-background),.09em 0 var(--color-background),-.09em 0 var(--color-background),.12em 0 var(--color-background),-.12em 0 var(--color-background),.15em 0 var(--color-background),-.15em 0 var(--color-background)}a:active,a:visited{color:inherit}h1,h2,h3,h4,h5,h6{font-weight:700;line-height:var(--line-height-headline)}h1{font-size:var(--font-size-1)}h2{font-size:var(--font-size-2)}h3{font-size:var(--font-size-3)}h4{font-size:var(--font-size-4)}h5{font-size:var(--font-size-5)}h6{color:var(--color-text-secondary);font-size:var(--font-size-6)}
.embed-wrapper{position:relative;margin-bottom:var(--gap-m)}.embed-wrapper:before{content:"";display:block;padding-bottom:50%}.embed-wrapper iframe{position:absolute;width:100%;height:100%;top:0;border:0}.embed-wrapper.embed-aspect-4-3:before{padding-bottom:75%}.embed-wrapper.embed-aspect-16-9:before{padding-bottom:56.25%}
.gad{position:relative;margin:0 auto;width:100%;height:auto;margin-bottom:var(--gap-m)}.flex{display:flex}.flex-col{flex-direction:column}.block{display:block}.inline-block{display:inline-block}
@media screen and (min-width:321px){html{font-size:calc(14.4px + .5vw)}}@media screen and (min-width:1920px){html{font-size:24px}}.page-body blockquote{margin:var(--gap-l) 0;position:relative;color:var(--color-text-secondary);padding-left:calc(var(--gap-l)*1.5);padding-right:var(--gap-l);overflow-wrap:break-word}.page-body blockquote p:last-child{margin:0}.page-body blockquote:before{position:absolute;top:calc(var(--gap-m)*-1);left:0;content:"\201c";font-family:var(--font-family-quotemark);font-size:300%;font-weight:700;line-height:1}.page-body code,.page-body pre{font-family:var(--font-family-mono);font-size:var(--font-size-code)}.page-body code{padding:0 var(--gap-s);border:1px dotted var(--color-accent-4);border-radius:2px}.page-body pre code{border:none}.page-body .saber-highlight{position:relative;overflow:hidden;margin:0 0 var(--gap-m) 0;border-radius:0}.page-body .saber-highlight code{background:transparent;padding:0}.page-body .saber-highlight pre.saber-highlight-code{margin:0;padding:var(--gap-m);overflow:auto}.page-body .saber-highlight:before{content:attr(data-lang);position:absolute;right:var(--gap-s);opacity:.2;color:var(--color-text-secondary);font-family:var(--font-family-mono);font-size:1.5rem;font-weight:700}.page-body figure{text-align:center}.page-body figure img{margin-bottom:0}.page-body figure iframe{display:block;margin:0 auto;max-width:100%}.page-body figure figcaption{margin-top:var(--gap-s);color:var(--color-text-secondary)}.page-body figure figcaption,.page-body figure figcaption code{font-size:var(--font-size-small)}.page-body hr{border:0;height:auto;margin:var(--gap-l) auto;opacity:.5;overflow:visible}.page-body hr:after{color:var(--color-text-secondary);content:"* * *";display:block;height:1rem;line-height:1;text-align:center;word-spacing:.5rem}.page-body hr.footnotes-sep:after{content:"Footnotes"}.page-body ol,.page-body ul{margin-bottom:var(--gap-m);padding-left:var(--gap-m);text-align:justify}.page-body ol li ol,.page-body ol li ul,.page-body ol p,.page-body ul li ol,.page-body ul li ul,.page-body ul p{margin-bottom:0}.page-body ul{list-style-type:square}.page-body .footnotes{color:var(--color-text-secondary);font-size:var(--font-size-footnotes)}.page-body .footnotes p{margin-bottom:var(--gap-s)}.page-body table{border-collapse:collapse;border-spacing:0;display:block;overflow:auto;width:100%}.page-body table tr td,.page-body table tr th{border:1px solid var(--color-accent-2);padding:var(--gap-s) var(--gap-m);white-space:nowrap}.page-body table tr:nth-child(2n){background-color:var(--color-accent-1)}.page-body a:not([id^=fnref]){padding-bottom:1px;overflow-wrap:break-word;word-break:break-all;transition:border .15s ease-in-out;background-image:linear-gradient(var(--color-accent-3),var(--color-accent-3));background-size:100% 1px;background-repeat:repeat-x;background-position:bottom;text-shadow:.03em 0 var(--color-background),-.03em 0 var(--color-background),0 .03em var(--color-background),0 -.03em var(--color-background),.06em 0 var(--color-background),-.06em 0 var(--color-background),.09em 0 var(--color-background),-.09em 0 var(--color-background),.12em 0 var(--color-background),-.12em 0 var(--color-background),.15em 0 var(--color-background),-.15em 0 var(--color-background)}.page-body a:not([id^=fnref]):focus,.page-body a:not([id^=fnref]):hover{color:var(--color-link);text-decoration:none;background-image:linear-gradient(var(--color-text-primary),var(--color-text-primary))}.page-body del,.page-body s{color:var(--color-text-secondary)}.page-body img{margin-bottom:var(--gap-m);vertical-align:middle}.page-body sub,.page-body sup{font-size:var(--font-size-sub-sup)}
@media screen and (max-width:768px){main{padding-top:var(--gap-m);padding-left:var(--gap-m);padding-right:var(--gap-m);min-height:calc(100vh - 60px - var(--gap-l)*2)}}@media screen and (min-width:769px){.main-container{display:flex}aside{width:25%}aside,main{padding-top:var(--gap-xl)}main{padding-right:var(--gap-l);width:75%}.page-content figure.left,.page-content figure.right{max-width:40%}.page-content figure.left{float:left;margin-right:var(--gap-l)}.page-content figure.right{float:right;margin-left:var(--gap-l)}}
code[class*=language-],pre[class*=language-]{color:#383a42}:not(pre)>code[class*=language-],pre[class*=language-]{background:transparent;border:1px solid var(--color-accent-3)}.token.cdata,.token.comment,.token.prolog{color:#a0a1a7}.language-css .token.string,.style .token.string,.token.entity{color:#696c77;background:#f0f0f1}.token.punctuation{color:#383a42}.token.deleted,.token.operator,.token.tag,.token.variable{color:#ca1243}.token.boolean,.token.constant,.token.number,.token.property,.token.url{color:#d75f00}.token.bold,.token.class-name{color:#c18401}.token.atrule,.token.attr-value,.token.inserted,.token.string,.token.symbol{color:#50a14f}.token.important,.token.regex{color:#0184bc}.token.attr-name,.token.function{color:#4078f2}.token.builtin,.token.char,.token.italic,.token.keyword,.token.selector{color:#a626a4}.token.doctype{color:#986801}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.namespace{opacity:.7}@media (prefers-color-scheme:dark){:root:not(.light) code[class*=language-],:root:not(.light) pre[class*=language-]{color:#abb2bf}:root:not(.light) :not(pre)>code[class*=language-],:root:not(.light) pre[class*=language-]{background:transparent}:root:not(.light) .token.cdata,:root:not(.light) .token.comment,:root:not(.light) .token.prolog{color:#545862}:root:not(.light) .language-css .token.string,:root:not(.light) .style .token.string,:root:not(.light) .token.entity{color:#565c64;background:#353b45}:root:not(.light) .token.punctuation{color:#abb2bf}:root:not(.light) .token.deleted,:root:not(.light) .token.operator,:root:not(.light) .token.tag,:root:not(.light) .token.variable{color:#e06c75}:root:not(.light) .token.boolean,:root:not(.light) .token.constant,:root:not(.light) .token.number,:root:not(.light) .token.property,:root:not(.light) .token.url{color:#d19a66}:root:not(.light) .token.bold,:root:not(.light) .token.class-name{color:#e5c07b}:root:not(.light) .token.atrule,:root:not(.light) .token.attr-value,:root:not(.light) .token.inserted,:root:not(.light) .token.string,:root:not(.light) .token.symbol{color:#98c379}:root:not(.light) .token.important,:root:not(.light) .token.regex{color:#56b6c2}:root:not(.light) .token.attr-name,:root:not(.light) .token.function{color:#61afef}:root:not(.light) .token.builtin,:root:not(.light) .token.char,:root:not(.light) .token.italic,:root:not(.light) .token.keyword,:root:not(.light) .token.selector{color:#c678dd}:root:not(.light) .token.doctype{color:#be5046}}:root.dark code[class*=language-],:root.dark pre[class*=language-]{color:#abb2bf}:root.dark :not(pre)>code[class*=language-],:root.dark pre[class*=language-]{background:transparent}:root.dark .token.cdata,:root.dark .token.comment,:root.dark .token.prolog{color:#545862}:root.dark .language-css .token.string,:root.dark .style .token.string,:root.dark .token.entity{color:#565c64;background:#353b45}:root.dark .token.punctuation{color:#abb2bf}:root.dark .token.deleted,:root.dark .token.operator,:root.dark .token.tag,:root.dark .token.variable{color:#e06c75}:root.dark .token.boolean,:root.dark .token.constant,:root.dark .token.number,:root.dark .token.property,:root.dark .token.url{color:#d19a66}:root.dark .token.bold,:root.dark .token.class-name{color:#e5c07b}:root.dark .token.atrule,:root.dark .token.attr-value,:root.dark .token.inserted,:root.dark .token.string,:root.dark .token.symbol{color:#98c379}:root.dark .token.important,:root.dark .token.regex{color:#56b6c2}:root.dark .token.attr-name,:root.dark .token.function{color:#61afef}:root.dark .token.builtin,:root.dark .token.char,:root.dark .token.italic,:root.dark .token.keyword,:root.dark .token.selector{color:#c678dd}:root.dark .token.doctype{color:#be5046}.saber-highlight-line-numbers{pointer-events:none;font-size:100%;float:left;letter-spacing:-1px;border-right:1px solid #999;user-select:none;text-align:right;padding-right:.4445rem;margin-right:.8rem}.saber-highlight-line-numbers>span{counter-increment:linenumber;display:block}.saber-highlight-line-numbers>span:before{content:counter(linenumber);color:#999;display:block}
.md-gallery{margin-bottom:var(--gap-m);display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}.md-gallery figure{margin-bottom:0}
@media (prefers-color-scheme:dark){:root:not(.light){--color-accent-0:#22272e;--color-accent-1:#2d333b;--color-accent-2:#373e47;--color-accent-3:#444c56;--color-accent-4:#545d68;--color-accent-5:#636e7b;--color-accent-6:#768390;--color-accent-7:#909dab;--color-accent-8:#adbac7;--color-accent-9:#cdd9e5;--color-background-transparent:rgba(31,31,31,0)}}:root.dark{--color-accent-0:#22272e;--color-accent-1:#2d333b;--color-accent-2:#373e47;--color-accent-3:#444c56;--color-accent-4:#545d68;--color-accent-5:#636e7b;--color-accent-6:#768390;--color-accent-7:#909dab;--color-accent-8:#adbac7;--color-accent-9:#cdd9e5;--color-background-transparent:rgba(31,31,31,0)}
.page-content[data-v-22c1fd7f]{flex:1}.page-content .page-header[data-v-22c1fd7f]{margin-bottom:var(--gap-m)}.page-content .page-header .page-title[data-v-22c1fd7f]{margin-bottom:var(--gap-l)}.page-content .page-header .page-meta[data-v-22c1fd7f]{text-align:right;font-style:italic;font-size:var(--font-size-small);color:var(--color-text-secondary);line-height:var(--line-height-small)}
.burger[data-v-e84b604a]{z-index:999;color:currentColor;cursor:pointer;display:block;height:60px;position:relative;width:60px;margin-left:auto}.burger span[data-v-e84b604a]{background-color:currentColor;display:block;height:2px;left:calc(50% - 12px);position:absolute;transform-origin:center;transition-duration:86ms;transition-property:background-color,opacity,transform;transition-timing-function:ease-out;width:24px}.burger span[data-v-e84b604a]:first-child{top:calc(50% - 10px)}.burger span[data-v-e84b604a]:nth-child(2){top:calc(50% - 2px)}.burger span[data-v-e84b604a]:nth-child(3){top:calc(50% + 6px)}.burger.is-active span[data-v-e84b604a]:first-child{transform:translateY(8px) rotate(45deg)}.burger.is-active span[data-v-e84b604a]:nth-child(2){opacity:0}.burger.is-active span[data-v-e84b604a]:nth-child(3){transform:translateY(-8px) rotate(-45deg)}@media screen and (max-width:768px){header[data-v-e84b604a]{padding:var(--gap-l) var(--gap-m);display:flex;justify-content:space-between}.logo-image[data-v-e84b604a]{height:60px}.navbar[data-v-e84b604a]{background-color:var(--color-background);display:none;z-index:998;position:fixed;top:0;left:0;right:0;bottom:0;padding:calc(60px + var(--gap-l)) var(--gap-l) var(--gap-l);text-align:center;font-size:160%;overflow:auto}.navbar.is-active[data-v-e84b604a]{display:block}.navbar ul[data-v-e84b604a]{margin:0}.navbar ul li[data-v-e84b604a]{margin-bottom:var(--gap-m)}}@media screen and (min-width:769px){.logo-outer[data-v-e84b604a],.navbar[data-v-e84b604a]{width:60%;margin-left:auto;margin-right:auto}.logo-outer[data-v-e84b604a]{margin-bottom:var(--gap-l)}.navbar ul[data-v-e84b604a]{margin:0}.navbar ul li[data-v-e84b604a]{margin-bottom:var(--gap-s)}.burger[data-v-e84b604a]{display:none}}
.navbar-item.scheme-switcher[data-v-5a57b1b2]{background:none;cursor:pointer}
/*! DisqusJS - Default Theme | v1.3.0 | Sukka (https://skk.moe) | https://disqusjs.skk.moe | MIT License */#dsqjs *{margin:0;padding:0}#dsqjs a{text-decoration:none;color:#076dd0}#dsqjs .dsqjs-hide{display:none!important}#dsqjs .dsqjs-disabled{cursor:not-allowed;opacity:.5}#dsqjs #dsqjs-msg{text-align:center;margin-top:4px;margin-bottom:4px;font-size:14px}#dsqjs #dsqjs-msg .dsqjs-msg-btn{cursor:pointer}#dsqjs .dsqjs-bullet{line-height:1.4;margin:0 2px}#dsqjs .dsqjs-bullet:after{color:#c2c6cc;content:"·";font-weight:700}#dsqjs .dsqjs-clearfix:after,#dsqjs .dsqjs-clearfix:before{display:table;content:"";line-height:0;clear:both}#dsqjs .dsqjs-nav{position:relative;margin:0 0 20px;border-bottom:2px solid #e7e9ee}#dsqjs ol,#dsqjs ul{list-style:none;list-style-type:none}#dsqjs .dsqjs-no-comment{text-align:center;font-size:16px;line-height:1.5;word-wrap:break-word;overflow:hidden;color:#2a2e2e;margin-bottom:6px}#dsqjs .dsqjs-nav-tab{float:left;text-transform:capitalize;font-size:15px;padding:12px 8px;color:#656c7a;display:block;margin:0 15px 0 0;font-weight:700;line-height:1;position:relative;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}#dsqjs .dsqjs-nav-tab:last-child{margin:0}#dsqjs .dsqjs-tab-active{color:#2a2e2e}#dsqjs .dsqjs-tab-active>span:after{content:" ";display:block;height:2px;background-color:#076dd0!important;position:absolute;bottom:-5px;left:0;right:0}#dsqjs .dsqjs-post-list .dsqjs-post-item{position:relative;margin-bottom:16px}#dsqjs .dsqjs-post-list .dsqjs-post-avatar{float:left;margin-right:10px;position:relative;background:#dbdfe4;padding:0;display:block;border-radius:4px}#dsqjs .dsqjs-post-list .dsqjs-post-avatar img{width:44px;height:44px;display:block;border-radius:4px}#dsqjs .dsqjs-post-list .dsqjs-post-header{line-height:1;font-size:14px;margin-bottom:3px}#dsqjs .dsqjs-post-list .dsqjs-post-header .dsqjs-post-author{color:#656c7a;font-weight:700}#dsqjs .dsqjs-post-list .dsqjs-post-header .dsqjs-admin-badge{color:#fff;background:#687a86;padding:1px 3px;margin-left:4px;font-size:12px;line-height:1;font-weight:700;border-radius:3px;display:inline-block;position:relative;top:-1px;left:1px}#dsqjs .dsqjs-post-list .dsqjs-post-header .dsqjs-meta{display:inline-block;font-size:12px;color:#656c7a}#dsqjs .dsqjs-post-body{font-size:15px;line-height:1.5;word-wrap:break-word;overflow:hidden;color:#2a2e2e}#dsqjs .dsqjs-post-body code{padding:.2em .4em;margin:0;font-size:85%;background:#f5f5f5;color:inherit;border-radius:3px}#dsqjs .dsqjs-post-body pre{padding:.5em;overflow:auto;font-size:85%;line-height:1.45;border-radius:3px;background:#f5f5f5;margin:.5em 0}#dsqjs .dsqjs-post-body blockquote{padding:0 .8em;margin:.5em 0;color:#6a737d;border-left:.25em solid #dfe2e5}#dsqjs .dsqjs-post-body p:last-child{margin:0}#dsqjs .dsqjs-post-list.dsqjs-children>li{margin-left:30px}@media (min-width:768px){#dsqjs .dsqjs-post-list.dsqjs-children>li{margin-left:48px}#dsqjs .dsqjs-post-list .dsqjs-post-avatar{margin-right:12px}#dsqjs .dsqjs-post-list .dsqjs-post-item{margin-bottom:20px}}@media (min-width:1024px){#dsqjs .dsqjs-post-list.dsqjs-children>li{margin-left:60px}}#dsqjs .dsqjs-post-list.dsqjs-children .dsqjs-post-avatar img{width:38px;height:38px}#dsqjs .dsqjs-load-more{font-size:14px;font-weight:400;display:block;text-align:center;padding:11px 14px;margin:0 0 24px;background:#687a86;color:#fff;cursor:pointer}#dsqjs .dsqjs-load-more:hover{opacity:.8}#dsqjs footer{text-align:right;line-height:1.5;padding-top:10px;padding-right:10px;border-top:2px solid #e7e9ee;margin-top:12px;font-weight:700;font-size:16px;color:#555}#dsqjs .dsqjs-disqus-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 438 80'%3E%3Cpath fill='%23575B5D' d='M30.2 1.6H1v76h28.9C57 77.6 73 61.3 73 39.4v-.2c0-22-15.7-37.6-42.9-37.6zm21.3 38.1c0 12.3-8.4 19.3-21 19.3H22V20.3h8.5c12.6 0 21 7 21 19.2v.2zm35.6 38h21.2V1.5H87.1v76zm70-47.4c-10.4-2.4-13-4-13-7.4v-.2c0-2.7 2.4-5 7.6-5 6.7 0 14.3 2.7 21.2 7.6l10.6-14.9A47.9 47.9 0 00152.2.3c-18.3 0-29.4 10.2-29.4 24.3v.2c0 15.7 12.4 20.3 28.6 24 10.4 2.3 12.9 4 12.9 7.2v.2c0 3.3-3 5.2-8.7 5.2-8.8 0-17.2-3.1-24.7-9l-11.7 14a53.1 53.1 0 0035.6 12.5c18.5 0 30.7-9.2 30.7-24.7V54c0-14.3-10.8-20-28.3-23.7zm120.7 9.3v-.2A39.5 39.5 0 00236.9.1c-23.4 0-41 17.7-41 39.5v.2a39.5 39.5 0 0040.8 39.4c8.7 0 16.6-2.5 23.1-6.8l8.4 7.5L279 68.1l-7.9-6.6a38 38 0 006.8-21.9zm-21.4.5c0 2.6-.5 5-1.3 7.3l-10.4-9.3-10.6 12 10.5 9a21.7 21.7 0 01-7.7 1.4c-11.6 0-19.4-9.7-19.4-20.7v-.2c0-11 7.7-20.5 19.2-20.5 11.7 0 19.7 9.7 19.7 20.7v.3zm83.5 4.3c0 10.6-5.5 15.6-14 15.6s-14-5.2-14-16.1V1.6h-21.4v42.7C290.5 68 304 79 325.7 79s35.6-10.8 35.6-35.3V1.5h-21.4v42.8zm68.9-14.1c-10.6-2.4-13.2-4-13.2-7.4v-.2c0-2.7 2.5-5 7.6-5 6.8 0 14.4 2.7 21.3 7.6l10.6-14.9A47.9 47.9 0 00403.8.3c-18.3 0-29.5 10.2-29.5 24.3v.2c0 15.7 12.5 20.3 28.7 24 10.3 2.3 12.8 4 12.8 7.2v.2c0 3.3-3 5.3-8.7 5.3-8.8 0-17.1-3.2-24.6-9.2l-11.7 14A53.1 53.1 0 00406.4 79c18.5 0 30.7-9.2 30.7-24.7V54c0-14.3-10.8-20-28.3-23.7z'/%3E%3C/svg%3E");background-position:50% 50%;background-repeat:no-repeat;display:inline-block;height:12px;width:65.7px}#dsqjs .dsqjs-order{display:-webkit-box;display:-ms-flexbox;display:flex;float:right;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;margin-bottom:12px}#dsqjs .dsqjs-order-radio{display:none}#dsqjs .dsqjs-order-radio:checked+.dsqjs-order-label{color:#fff;background-color:#888}#dsqjs .dsqjs-order-label{display:block;height:20px;line-height:20px;margin-right:10px;font-size:12px;border-radius:2px;padding:0 5px;background-color:#dcdcdc;cursor:pointer}#dsqjs p.dsqjs-has-more{margin-bottom:24px;margin-left:48px;font-size:13px;line-height:15px}#dsqjs p.dsqjs-has-more a.dsqjs-has-more-btn{color:#656c7a;text-decoration:underline;cursor:pointer}
.page-comments{margin-top:var(--gap-xl)}#dsqjs a{color:inherit;overflow-wrap:break-word;text-decoration:none;word-break:break-all}#dsqjs a:focus,#dsqjs a:hover{color:var(--color-link);outline:none}#dsqjs .dsqjs-disqus-logo{background-size:100%}#dsqjs .dsqjs-post-body code{background:transparent}#dsqjs .dsqjs-nav-tab,#dsqjs .dsqjs-post-list .dsqjs-post-header .dsqjs-meta,#dsqjs footer,#dsqjs footer a{color:var(--color-text-secondary)}#dsqjs .dsqjs-no-comment,#dsqjs .dsqjs-post-body,#dsqjs .dsqjs-post-list .dsqjs-post-header .dsqjs-post-author,#dsqjs .dsqjs-tab-active{color:var(--color-text-primary)}#dsqjs .dsqjs-order-label{background-color:var(--color-background)}#dsqjs .dsqjs-order-radio:checked+.dsqjs-order-label{color:var(--color-background);background-color:var(--color-text-secondary)}#dsqjs .dsqjs-nav{border-bottom:1px solid var(--color-accent-2)}#dsqjs .dsqjs-tab-active>span:after{background-color:var(--color-link)!important}#dsqjs .dsqjs-post-list .dsqjs-post-header .dsqjs-admin-badge{color:var(--color-background);background-color:var(--color-text-secondary)}#dsqjs footer{border-top:1px solid var(--color-accent-2)}
footer[data-v-58904140]{padding:3rem 0;background:var(--color-background);color:var(--color-text-primary);font-size:var(--font-size-small)}footer .section[data-v-58904140]{font-style:normal;text-align:center}@media screen and (min-width:768px){footer .section[data-v-58904140]{font-style:italic;text-align:right}}</style>  </head><body><div id="_saber" data-server-rendered="true"><div class="main-container" data-v-22c1fd7f><aside class="sidebar" data-v-e84b604a data-v-22c1fd7f><header data-v-e84b604a><div class="logo-outer flex" data-v-e84b604a><a href="/" title="The Art of Chawye Hsu" class="inline-block router-link-active" data-v-e84b604a><img alt="Logo" src="/_saber/images/icons/logo_512.svg" class="logo-image block" data-v-e84b604a></a></div> <div class="burger-outer" data-v-e84b604a><span class="burger" data-v-e84b604a><span data-v-e84b604a></span> <span data-v-e84b604a></span> <span data-v-e84b604a></span></span></div></header> <div class="navbar" data-v-e84b604a><nav data-v-e84b604a><ul data-v-e84b604a><li data-v-e84b604a><a href="/blog" class="router-link-active" data-v-e84b604a>文章 - Blog</a></li><li data-v-e84b604a><a href="/guestbook" data-v-e84b604a>留言板 - Guestbook</a></li><li data-v-e84b604a><a href="/links" data-v-e84b604a>链接 - Links</a></li><li data-v-e84b604a><a href="/about" data-v-e84b604a>关于 - About</a></li><li data-v-e84b604a><a href="/feed/atom.xml" data-v-e84b604a data-v-e84b604a>订阅 - Subscribe</a></li><li data-v-e84b604a><a rel="noopener noreferrer" target="_blank" href="https://www.instagram.com/chawyehsu" data-v-e84b604a data-v-e84b604a>Instagram</a></li><li data-v-e84b604a><a rel="noopener noreferrer" target="_blank" href="https://twitter.com/chawyehsu" data-v-e84b604a data-v-e84b604a>Twitter</a></li> <li data-v-e84b604a><a class="navbar-item scheme-switcher" data-v-5a57b1b2 data-v-e84b604a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun" data-v-5a57b1b2><circle cx="12" cy="12" r="5" data-v-5a57b1b2></circle> <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" data-v-5a57b1b2></path></svg></a></li></ul></nav></div></aside> <main data-v-22c1fd7f><article role="main" itemscope="itemscope" itemtype="https://schema.org/Article" class="page-content" data-v-22c1fd7f><header class="page-header" data-v-22c1fd7f><section class="page-head-content" data-v-22c1fd7f><h1 class="page-title" data-v-22c1fd7f>Openwrt 配置 he.net IPv6 隧道</h1> <div class="page-meta" data-v-22c1fd7f><section class="page-author" data-v-22c1fd7f><span data-v-22c1fd7f>Chawye Hsu</span></section> <section class="page-datetime" data-v-22c1fd7f><time datetime="2017-02-12T12:44:53.000Z" class="published" data-v-22c1fd7f>
                2017/02/12
              </time></section></div></section></header> <section class="page-body" data-v-22c1fd7f><p data-v-22c1fd7f>之前还在大学时，除开锐捷，由于内网的原因，要玩 IPv6 的话就只能用六飞之类的工具。工作后，发现在住所报装的网络，居然给（是的，长这么大第一次在家用宽带得到）了公网 IP。刚开始时想过利用这个公网 IP 来搞个 Minecraft“家庭服”，对小伙伴们开放。但折腾下来发现上传太可怜了，还是不祸害小伙伴了。</p> <p data-v-22c1fd7f>就这样过了许久。突然心血来潮，看能不能试试在校时想搞的 <a rel="noopener noreferrer" target="_blank" href="http://he.net" data-v-22c1fd7f>he.net</a> 6in4 隧道，发现配置下来还挺简单的。因为这个玩法其实已经有好多人实践过了<sup class="footnote-ref" data-v-22c1fd7f><a href="/blog/henet-6in4-ipv6-tunnel-on-openwrt#fn1" id="fnref1">[1]</a></sup><sup class="footnote-ref" data-v-22c1fd7f><a href="/blog/henet-6in4-ipv6-tunnel-on-openwrt#fn2" id="fnref2">[2]</a></sup><sup class="footnote-ref" data-v-22c1fd7f><a href="/blog/henet-6in4-ipv6-tunnel-on-openwrt#fn3" id="fnref3">[3]</a></sup><sup class="footnote-ref" data-v-22c1fd7f><a href="/blog/henet-6in4-ipv6-tunnel-on-openwrt#fn4" id="fnref4">[4]</a></sup>，我也就是搜搜折腾记录下。</p> <h2 id="创建-he-6in4-隧道" data-v-22c1fd7f>创建 HE 6in4 隧道</h2> <p data-v-22c1fd7f>支持 IPv6 以及 6in4 的 Openwrt 路由器是前提了。到 <a rel="noopener noreferrer" target="_blank" href="https://tunnelbroker.net/" data-v-22c1fd7f>https://tunnelbroker.net/</a> 注册一个新帐号。登录后，点击左侧的 User Functions 中的 Create Regular Tunnel 创建新的隧道。</p> <Photoswipe auto="" data-v-22c1fd7f><figure data-type="image" data-pswp="true" itemscope="itemscope" itemprop="associatedMedia" itemtype="http://schema.org/ImageObject" data-v-22c1fd7f><img alt="" data-pswp-title="" src="/_saber/images/20170212002-3252908b.png" srcset="data:image/png;base64,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" data-srcset="/_saber/images/20170212002-3252908b.png 846w,/_saber/images/20170212002-eedaa17e.png 720w,/_saber/images/20170212002-3974a781.png 480w" width="846" height="577"></figure></Photoswipe> <p data-v-22c1fd7f>在 Ipv4 Endpoint 中填入路由器 wan 口的公网 IP。然后在下面的 Available Tunnel Servers 选择一个 he 的 6in4 隧道服务器。列表有显示地区和服务器的 IPv4，可选择一个连接速度较快延迟较低的（提示：并不是亚洲区就最快，建议本机 ping 一下看看，我选的就不是亚洲区）。最后点击 Create Tunnel 便创建了一个 6in4 隧道。</p> <Photoswipe auto="" data-v-22c1fd7f><figure data-type="image" data-pswp="true" itemscope="itemscope" itemprop="associatedMedia" itemtype="http://schema.org/ImageObject" data-v-22c1fd7f><img alt="" data-pswp-title="" src="/_saber/images/20170212003-6e4b76e7.png" srcset="data:image/png;base64,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" data-srcset="/_saber/images/20170212003-6e4b76e7.png 843w,/_saber/images/20170212003-84302690.png 720w,/_saber/images/20170212003-e5e6df94.png 480w" width="843" height="614"></figure></Photoswipe> <p data-v-22c1fd7f>其中 IPv6 Tunnel Endpoints 部分是这个 6in4 隧道两端的 IPv4 和 IPv6 地址。Server 是 HE 的隧道服务器，Client 是我们的路由器或计算机。下方的 Routed IPv6 Prefixes 是该隧道可用于分配的 IPv6 地址段，可为路由器背后的内网机器都分配上唯一的 IPv6 地址。</p> <div class="gad" data-v-22c1fd7f><ins data-ad-client="ca-pub-4381515676738667" data-ad-slot="8422573867" data-ad-format="fluid" data-ad-region="page-0.41374267117010244" data-ad-layout="in-article" data-full-width-responsive="false" class="adsbygoogle" style="display:block;"></ins></div> <h2 id="openwrt-配置-he-6in4" data-v-22c1fd7f>Openwrt 配置 HE 6in4</h2> <p data-v-22c1fd7f>在 Luci 界面中，依次点击“网络”-“接口”-“添加新接口”创建新接口。接口名称随意，这里为方便辨认以 HENET 为例，协议选择 IPv6-in-IPv4 (RFC4213)，然后提交。</p> <Photoswipe auto="" data-v-22c1fd7f><figure data-type="image" data-pswp="true" itemscope="itemscope" itemprop="associatedMedia" itemtype="http://schema.org/ImageObject" data-v-22c1fd7f><img alt="" data-pswp-title="" src="/_saber/images/20170212004-6802c9e0.png" srcset="data:image/png;base64,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" data-srcset="/_saber/images/20170212004-6802c9e0.png 944w,/_saber/images/20170212004-88ba4572.png 720w,/_saber/images/20170212004-fe7f557e.png 480w" width="944" height="874"></figure></Photoswipe> <p data-v-22c1fd7f>接着“基本配置”。“本地IPv4地址”留空，“远程IPv4地址”填写上面创建的 HE 6in4 隧道中的“Server IPv4 Address”，“本地IPv6地址”填写隧道中的“Client IPv6 Address”，“IPv6 routed prefix”填写隧道中的“Routed /64”。</p> <p data-v-22c1fd7f>然后勾选“启用HE.net动态终端更新”，填写相应的“隧道ID”，“HE.net用户ID”，“HE.net密码”。这里注意“HE.net用户ID”提示说“这是32 byte hex编码的用户ID，不是登录名”，也即不是注册时的用户名，这个值可以点击左侧的 Main Page 中找到。</p> <Photoswipe auto="" data-v-22c1fd7f><figure data-type="image" data-pswp="true" itemscope="itemscope" itemprop="associatedMedia" itemtype="http://schema.org/ImageObject" data-v-22c1fd7f><img alt="" data-pswp-title="" src="/_saber/images/20170212005-4fb2565c.png" srcset="data:image/png;base64,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" data-srcset="/_saber/images/20170212005-4fb2565c.png 555w,/_saber/images/20170212005-6f6aa776.png 480w" width="555" height="384"></figure></Photoswipe> <p data-v-22c1fd7f>接着在防火墙设置页中，确保防火墙区域跟 wan 的相同。最后保存应用，到此配置就完成了。剩下的就是测试了。看下网卡能否正常获得 IPv6 地址，到 <a rel="noopener noreferrer" target="_blank" href="http://ipv6-test.com/" data-v-22c1fd7f>http://ipv6-test.com/</a> 检查一下 IPv6 状态。访问 <a rel="noopener noreferrer" target="_blank" href="https://ipv6.google.com/" data-v-22c1fd7f>https://ipv6.google.com/</a> 试试，可用！聊胜于无，哈~</p> <Photoswipe auto="" data-v-22c1fd7f><figure data-type="image" data-pswp="true" itemscope="itemscope" itemprop="associatedMedia" itemtype="http://schema.org/ImageObject" data-v-22c1fd7f><img alt="" data-pswp-title="" src="/_saber/images/20170212006-b878b95f.png" srcset="data:image/png;base64,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" data-srcset="/_saber/images/20170212006-b878b95f.png 700w,/_saber/images/20170212006-f0504edb.png 480w" width="700" height="484"></figure></Photoswipe> <hr class="footnotes-sep" data-v-22c1fd7f> <section class="footnotes" data-v-22c1fd7f><ol class="footnotes-list" data-v-22c1fd7f><li id="fn1" class="footnote-item" data-v-22c1fd7f><p data-v-22c1fd7f><a rel="noopener noreferrer" target="_blank" href="https://ekszz.com/blog/?p=20" data-v-22c1fd7f>使用HE的6in4隧道来访问ipv6</a> <a href="/blog/henet-6in4-ipv6-tunnel-on-openwrt#fnref1" class="footnote-backref">↩︎</a></p></li> <li id="fn2" class="footnote-item" data-v-22c1fd7f><p data-v-22c1fd7f><a rel="noopener noreferrer" target="_blank" href="https://ekszz.com/blog/?p=115" data-v-22c1fd7f>Openwrt配置6in4访问ipv6网络</a> <a href="/blog/henet-6in4-ipv6-tunnel-on-openwrt#fnref2" class="footnote-backref">↩︎</a></p></li> <li id="fn3" class="footnote-item" data-v-22c1fd7f><p data-v-22c1fd7f><a rel="noopener noreferrer" target="_blank" href="http://demon.tw/hardware/openwrt-6in-ipv6.html" data-v-22c1fd7f>OpenWrt配置he.net的6in4隧道访问IPv6</a> <a href="/blog/henet-6in4-ipv6-tunnel-on-openwrt#fnref3" class="footnote-backref">↩︎</a></p></li> <li id="fn4" class="footnote-item" data-v-22c1fd7f><p data-v-22c1fd7f><a rel="noopener noreferrer" target="_blank" href="https://typeblog.net/tunnelbroker-on-openwrt/" data-v-22c1fd7f>在OpenWRT上配置HE IPv6隧道的正确姿势</a> <a href="/blog/henet-6in4-ipv6-tunnel-on-openwrt#fnref4" class="footnote-backref">↩︎</a></p></li></ol></section></section> <section class="page-comments" data-v-22c1fd7f><div id="disqus_thread"></div></section></article> <footer data-v-58904140 data-v-22c1fd7f><div class="container" data-v-58904140><section class="section" data-v-58904140><div class="copyright" data-v-58904140>
        © 2015-2021 Chawye Hsu. Made with <span style="font-family:sans-serif;color:#b30e2e" data-v-58904140>❤︎</span> from Guangzhou
      </div></section></div></footer></main></div></div><script src="/_saber/js/client.4a29c472.js" defer></script><script src="/_saber/js/page--_posts-2017-02-12-henet-6in4-ipv6-tunnel-on-openwrt-md.47af07a6.js" defer></script></body></html>
