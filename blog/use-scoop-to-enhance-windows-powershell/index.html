<!DOCTYPE html><html data-saber-ssr lang="zh-CN" data-saber-head="%7B%22lang%22:%7B%22ssr%22:%22zh-CN%22%7D%7D"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="ie=edge" /><meta data-saber-head="ssr" name="generator" content="Saber v0.11.7"><meta data-saber-head="ssr" name="apple-mobile-web-app-title" content="TACH"><meta data-saber-head="ssr" name="apple-mobile-web-app-capable" content="yes"><meta data-saber-head="ssr" name="apple-mobile-web-app-status-bar-style" content="default"><meta data-saber-head="ssr" name="mobile-web-app-capable" content="yes"><meta data-saber-head="ssr" name="author" content="Chawye Hsu"><meta data-saber-head="ssr" property="og:type" content="website"><meta data-saber-head="ssr" name="twitter:card" content="summary"><meta data-saber-head="ssr" name="twitter:creator" content="Chawye Hsu"><meta data-saber-head="ssr" name="description" content="Personal Website of Chawye Hsu" data-hid="description"><meta data-saber-head="ssr" name="keywords" content="blog,blogger,个人博客,中文独立博客"><meta data-saber-head="ssr" property="og:title" content="用 Scoop 改善 Windows Powershell - The Art of Chawye Hsu"><meta data-saber-head="ssr" property="og:description" content="Personal Website of Chawye Hsu"><meta data-saber-head="ssr" name="twitter:title" content="用 Scoop 改善 Windows Powershell - The Art of Chawye Hsu"><meta data-saber-head="ssr" name="twitter:description" content="Personal Website of Chawye Hsu"><meta data-saber-head="ssr" property="og:image" content="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20181225013-1ffeb2b6.png"><meta data-saber-head="ssr" property="twitter:image:src" content="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20181225013-1ffeb2b6.png"><link rel="manifest" href="/manifest.json" /><meta name="theme-color" content="#ffffff" /><link rel="apple-touch-icon" sizes="32x32" href="_saber/images/icons/icon_32x32.png" /><link rel="apple-touch-icon" sizes="128x128" href="_saber/images/icons/icon_128x128.png" /><link rel="apple-touch-icon" sizes="256x256" href="_saber/images/icons/icon_256x256.png" /><link rel="apple-touch-icon" sizes="512x512" href="_saber/images/icons/icon_512x512.png" /> <title>用 Scoop 改善 Windows Powershell - The Art of Chawye Hsu</title> <link data-saber-head="ssr" rel="alternate" title="The Art of Chawye Hsu - Feed" href="https://chawyehsu.com/feed/atom.xml" type="application/atom+xml"><link data-saber-head="ssr" href="https://use.typekit.net/" rel="preconnect" crossorigin="true"><link data-saber-head="ssr" href="https://cdn.jsdelivr.net/" rel="preconnect" crossorigin="true"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/css/styles.7a9fd07b.chunk.css">  </head><body><div id="_saber" data-server-rendered="true"><div class="tach-root" data-v-fafb38b0><header class="tach-header" data-v-7d583917 data-v-fafb38b0><div class="tach-wrapper" data-v-7d583917><nav class="navbar" data-v-7d583917><div class="container" data-v-7d583917><div class="column navbar-brand" data-v-7d583917><a href="/" class="navbar-item site-title router-link-active" data-v-7d583917>The Art of Chawye Hsu</a> <span class="navbar-burger burger" data-v-7d583917><span data-v-7d583917></span> <span data-v-7d583917></span> <span data-v-7d583917></span></span></div> <div class="column navbar-menu" data-v-7d583917><div class="navbar-end" data-v-7d583917><a href="/blog" class="navbar-item router-link-active" data-v-7d583917>Blog</a><a href="/guestbook" class="navbar-item" data-v-7d583917>Guestbook</a><a href="/links" class="navbar-item" data-v-7d583917>Links</a><a href="/about" class="navbar-item" data-v-7d583917>About</a> <a class="navbar-item scheme-switcher" data-v-7d583917><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle> <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></a></div></div></div></nav></div></header> <main class="tach-main" data-v-fafb38b0><!----> <article role="main" itemscope="itemscope" itemtype="https://schema.org/Article" class="page-content" data-v-fafb38b0><div class="page-inner-wrapper tach-page-wrapper" data-v-fafb38b0><header class="page-header page-has-cover" data-v-fafb38b0><section class="page-cover" data-v-fafb38b0><img src="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20181225013-1ffeb2b6.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAIAAADRv8uKAAAACXBIWXMAAAsTAAALEwEAmpwYAAADVklEQVRIx+2WS08TURTHr4hAoivi0rBx54aN38AlnwAXulWUd8vboCGC0WDiAxdqXIgNIEjACn1NC7QFS3lIX5QWsOmDd4HO9N47w6vjacHEGB5DoKxI/rmZ3mnub875n3NmEM+RpIoesI+SSiXs7orPFEwieBMCZgmsZwfGESzyvMu3nN8ypnPMxyj/X9woWVRBcPqW65X2shbLh/5p+JlcMJQS4Yi4KUzMLss7fr3osX/s9+zgJHsMpbRDiNkVMk4uPOkcy3lrfG+YAirdr7ZPDUxZsoVpYG5VM+KtbrcWtY59HfRs491bJ4sYnjoawYcIs2R5IawZ91lsMw3d4zPBtW1C9+2l44GFKIEaiWsjIWEfxSi1e4P6Cd+A7fd0YAVyQNkTDBCaoLLrXPd4SGEJfLEE2qzBthFYA61/BdcKi3/SvwpdtL6yBoFukQOpUsGYhfagjWoXKtCgYt3VxwPpZQwq0qJSHSrZU6qMQXmqKqVb3NrA7J7rh5yJpHUI3eHYnCYzKmEyKg2OeVbpXLxQqrtUoU+vMqRVxpVRZUBypm3YDwmHPj7yWAlgFm9ifj60dL3OgMr0EGWuwi6K4huTH4K+WK5PKdfDCreA7faHY4Q/qKCOB4ZTRF4w2WZTynTASK0woHz1vY5JYD9STaNCTWoFbMYfKLtxiFuPQjUcnmSp4ITB/Gu1HZVogQrBXa7pQw/U1T1eYN9tcULc8TwXam43T8A/peRZYsRExNE7n36iIl16wk4osRvPh2yhiHeJu/lqGMmY+GaR9iUzA8MyeipgMHgD8+tL4exnfUimT4ViLtRClGDiu0F/WrEW3e/d81jOmN2L0EtSDD4aDKfsUMHlDVypYpBcn1nbrxidw1T4bA3JlZ7qXm/5D29m7QAYfK3OOLcY2cZUisFHgxMGC80DbiTTQarzvrmnFrisp+ZchWM0GOmbCStdS1n1gyhfc6vJGosPyAO/dY4LJiJPatqt6KEqRaZNq2DSZFpUoELFGthJqDelVIMKVQ3qKZijEitLgscc2YiSKY+vy2jrNjk6jY4uk0Npdn43x9e4Bp1dJrt+xMOtsUKUSp/8kkbmFuFFmhAPEvau/xF82dBjvkalviSgZA4XnwxwMnQOPgcnTX8Ayaqs5NVW2wAAAAAASUVORK5CYII=" data-srcset="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20181225013-1ffeb2b6.png 600w,https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20181225013-6c9bbbaf.png 480w" width="600" class="image" data-v-fafb38b0> <span class="overlay" data-v-fafb38b0></span></section> <section class="page-head-content" data-v-fafb38b0><h1 class="page-title" data-v-fafb38b0>用 Scoop 改善 Windows Powershell</h1> <div class="page-meta" data-v-fafb38b0><section class="page-datetime" data-v-fafb38b0><time datetime="2015-08-23T15:19:11.000Z" class="published" data-v-fafb38b0>
                  2015-08-23
                </time></section> <!----></div></section></header> <!----> <section class="page-body" data-v-fafb38b0><Photoswipe auto="" options="[object Object]" data-v-fafb38b0><p style="text-align:center;" data-v-fafb38b0><strong data-v-fafb38b0><a href="/blog/2018/05/talk-about-scoop-the-package-manager-for-windows-again" data-v-fafb38b0>关于 Scoop 的新文章</a></strong></p> <h2 id="一本道" data-v-fafb38b0>一本道</h2> <p data-v-fafb38b0>软件包管理工具想必大家已经很清楚并且使用过。Debian/ Ubuntu 的 apt-get，
Arch Linux 的 Pacman，就连本身并无自带包管理工具的 Mac 都有了 Macports
和极其好用的 Homebrew。至于 Windows 下，
Geek 们也生产出各式各样的工具以贴合他们的 *nix 使用习惯。其中软件包管理工具中比较出名的就是 <strong data-v-fafb38b0><a rel="noopener noreferrer" target="_blank" href="https://chocolatey.org/" data-v-fafb38b0>chocolatey</a></strong> 了。</p> <p data-v-fafb38b0>然而本文并不细谈 chocolatey，而谈的是一个叫做 <strong data-v-fafb38b0><a rel="noopener noreferrer" target="_blank" href="http://scoop.sh/" data-v-fafb38b0>Scoop</a></strong>
工具。官网上的描述是“A command-line installer for Windows”，其实说白了，就是和 chocolatey 同属一种东西，也就是 Windows 下的软件包管理工具，但其并没有 chocolatey 出名与强大。</p> <p data-v-fafb38b0>那我为什么要用 Scoop 而不是 chocolatey？一正是 chocolatey 够强大，但其实我一开始并没打算折腾 Powershell，因为已经在用 Git Bash / MSYS2，所以我无需使用太过庞大的工具；二是 scoop 有吸引我的地方，它能把 Powershell
弄得看起来像 Linux shell 的样子，这也是为什么我要折腾 PS 的促因。</p> <div class="gad" data-v-fafb38b0><ins data-ad-client="ca-pub-4381515676738667" data-ad-slot="8422573867" data-ad-format="fluid" data-ad-region="page-0.794588516569839" data-ad-layout="in-article" data-full-width-responsive="false" class="adsbygoogle" style="display:block;"></ins></div> <p data-v-fafb38b0>看 Scoop 主页的 Demo 视频，你会发现视频里的 PS 用起来很简约，而又是更方便了，不仅能安装运行各种 GNU 工具（<code data-v-fafb38b0>curl</code>、<code data-v-fafb38b0>vim</code> 等），而且 <code data-v-fafb38b0>$PS1</code> 看起来像是 Linux 下的终端，还能显示 git 仓库的分支信息，简直 Geek 范十足。虽说已有 MSYS2 这种更集成的 *nix 环境，但既然看到了 Scoop 又挺不错的于是就折腾下呗。毕竟是 Windows 内置的嘛，还能 Win + R powershell 快速打开，有时候打下指令（<code data-v-fafb38b0>ipconfig</code>、<code data-v-fafb38b0>nslookup</code> 什么的）还是会用到的呢。</p> <figure data-type="image" data-v-fafb38b0><img alt="配置 Scoop 后的样子" title="配置 Scoop 后的样子" data-pswp-title="配置 Scoop 后的样子" src="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20150823002-f21ddbb3.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAdCAIAAABXK7kkAAAACXBIWXMAAAsTAAALEwEAmpwYAAACmElEQVRIx2P48+fPhw/v37979/7Dhw8fP75//x5IAllAxluqgHfvgBjGABLvgPb8/v2b4df3r3dffbrz6vO7F0+BMl8+vP/w+tXbF88/vX3zn3oA6L0fX78AGb9//nzz5jXQVwzvP7zvnLukYfq8jplzm6fObpq7sHnRkuY581vnLepduaZv5ZruhUs75y4iG7XPXtAxZyEQtc2a3zpr/oyV6x49fgyy+NXrN+oeAcw6ZjwmdrzGdowGVkyWjgw6Zgz6FgwGFgxaxgwyGgxS6gyymuQjORDJpKDNIK4sZ+Vy+NixTx8/Mrx+88Y6MlHCzl3K3l3JLUDZ1U/AxJ7b0JbTwBroDj4TO0FLJwELJ1Z9KxY9S0oQm74Vg4axmlfwxctXgImI4eXr1wrOPgxapgLmjjwm9nxmjnxgBreJnZCVi6Stu5SdB5Bk1rVg0DajBDHpmDOoGKh4Bt+8fQdkMTCoNbyCWPUtuYxt2QysuIxs+c2dxGxcQTZpmgAdBCKBiDJbkS2+ces2yGJgUBsHRQlbOss4ePKa2vObOYjbuiu4+LLpmgNDhlq2YrEYGNSKrr6sepY8pnYiVs7cxnbsBlbsBtbAkBe2cgEiQXNHysMZi8Wv3rwxCoySc/JWdPHV9g6WtPcAJjRZZ295Zx9lN39ld395J2+gO0BhTnUfq3gEMGqZMQKDFBK2GnCGMYgNimlaBPWr17KOXgxqhky6FoxAOW0zIImMqBLB2H0s6+jNoGbERD07Ri0etXjU4lGLRy0ePhbLOfkwqBszg2sn2iFQa0LNUNULaPGtgfHxrTt3kVqZGsasehbMuua0Q0DzGdQNVT2Dzpw7D7L458+fJ86e33f0+IFjJ2iN9h89fvTUmcePHwMtBQA8Os+wbR9mHwAAAABJRU5ErkJggg==" data-srcset="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20150823002-f21ddbb3.png 782w,https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20150823002-3dcb0434.png 720w,https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20150823002-2d110ffe.png 480w" width="782"><figcaption data-v-fafb38b0>配置 Scoop 后的样子</figcaption></figure> <h2 id="正题" data-v-fafb38b0>正题</h2> <ol data-v-fafb38b0><li data-v-fafb38b0><p data-v-fafb38b0>确保你已安装 Powershell 3（其实 Windows7+ 应该都已经集成了），然后 WIn + R 输入 powershell 打开 PS，一句命令安装 scoop：</p> <div class="saber-highlight" data-lang="powershell" data-v-fafb38b0><pre class="saber-highlight-code language-powershell" data-v-fafb38b0><code class="language-powershell" data-v-fafb38b0><span class="token function" data-v-fafb38b0>iex</span> <span class="token punctuation" data-v-fafb38b0>(</span><span class="token function" data-v-fafb38b0>new-object</span> net<span class="token punctuation" data-v-fafb38b0>.</span>webclient<span class="token punctuation" data-v-fafb38b0>)</span><span class="token punctuation" data-v-fafb38b0>.</span>downloadstring<span class="token punctuation" data-v-fafb38b0>(</span><span class="token string" data-v-fafb38b0>'https://get.scoop.sh'</span><span class="token punctuation" data-v-fafb38b0>)</span></code></pre></div></li> <li data-v-fafb38b0><p data-v-fafb38b0>安装完成后输入 <code data-v-fafb38b0>scoop help</code>，如果报错则需要允许 PS 提供脚本执行权限，执行：</p> <div class="saber-highlight" data-lang="powershell" data-v-fafb38b0><pre class="saber-highlight-code language-powershell" data-v-fafb38b0><code class="language-powershell" data-v-fafb38b0><span class="token function" data-v-fafb38b0>set-executionpolicy</span> unrestricted <span class="token operator" data-v-fafb38b0>-</span>s cu</code></pre></div></li> <li data-v-fafb38b0><p data-v-fafb38b0>然后就可以像 apt-get 那样 <code data-v-fafb38b0>install/uninstall</code> 软件包了：</p> <div class="saber-highlight" data-lang="powershell" data-v-fafb38b0><pre class="saber-highlight-code language-powershell" data-v-fafb38b0><code class="language-powershell" data-v-fafb38b0>scoop install pkgname</code></pre></div><p data-v-fafb38b0>用 scoop 安装软件包时不会弹出 UAC 要求提权，因为软件包是安装在当前用户的 <code data-v-fafb38b0>appdata</code> 下的，并通过 shims path 管理调用执行文件，而不是将每个执行文件的路径都加到 path 中。</p></li> <li data-v-fafb38b0><p data-v-fafb38b0>开始美化控制台显示样式（★）首先 <code data-v-fafb38b0>scoop install concfg</code> 安装 <code data-v-fafb38b0>concfg</code>，然后导入 Solarized 主题<code data-v-fafb38b0>concfg import solarized small</code>（concfg 支持多种主题，详见 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/concfg/tree/master/presets" data-v-fafb38b0>concfg/presets</a>），期间会提示你替换了哪些控制台（其实也就 <code data-v-fafb38b0>CMD</code> 和 <code data-v-fafb38b0>PS</code>）的样式。然后 <code data-v-fafb38b0>scoop install pshazz</code> 安装 <code data-v-fafb38b0>pshazz</code>，当安装完后马上就能看到 shell prompt 发生变化了，而且 cd 到一个 git 仓库还能看到分支信息，还支持 git auto-completion 呢。</p></li> <li data-v-fafb38b0><p data-v-fafb38b0>然后还可以安装使用 <code data-v-fafb38b0>touch</code>、<code data-v-fafb38b0>curl</code>、<code data-v-fafb38b0>vim</code> 等更多的 GNU 命令行工具。
scoop 官方的 Packages 是 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/tree/master/bucket" data-v-fafb38b0>bucket</a>，如果里面没有你想安装的工具你还可以<a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Buckets#creating-your-own-bucket" data-v-fafb38b0>自定义 bucket</a> 或 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Creating-an-app-manifest" data-v-fafb38b0>创建一个 package</a>。</p></li> <li data-v-fafb38b0><p data-v-fafb38b0>最后还能用 scoop 进行开发语言环境的<a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Switching-Ruby-and-Python-Versions" data-v-fafb38b0>多版本控制</a>呢，比如 <code data-v-fafb38b0>scoop install python27 python</code> 同时安装 Py2.7 和 Py3，然后 <code data-v-fafb38b0>scoop reset python27</code> 选择 Py2.7，<code data-v-fafb38b0>scoop reset python</code> 则设置为 Py3。</p></li></ol> <p data-v-fafb38b0>至于更详尽的使用方法请 <code data-v-fafb38b0>scoop help</code> 或访问 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki" data-v-fafb38b0>Scoop Wiki</a> 咯。</p> <p data-v-fafb38b0>总结：所以说这种人就只能为他们的这种“如此难以伺候”而不断地折腾自己的电脑，折腾自己。这就是所谓“生命不息，折腾不止”吧哈哈哈。。。卒</p></Photoswipe></section> <!----> <section class="page-comments" data-v-fafb38b0><div id="disqus_thread"></div></section> <footer class="page-footer" data-v-fafb38b0></footer></div></article></main> <footer class="tach-footer footer" data-v-bad9f396 data-v-fafb38b0><div class="tach-wrapper" data-v-bad9f396><div class="container columns is-flex-direction-row-reverse" data-v-bad9f396><section class="section column is-6" data-v-bad9f396><div class="social-network" data-v-bad9f396><ul data-v-bad9f396><li data-v-bad9f396><a target="_blank" rel="noopener" href="https://github.com/chawyehsu" class="icon" data-v-bad9f396 data-v-bad9f396>GitHub</a></li><li data-v-bad9f396><a target="_blank" rel="noopener" href="https://twitter.com/intent/follow?screen_name=chawyehsu" class="icon" data-v-bad9f396 data-v-bad9f396>Twitter</a></li><li data-v-bad9f396><a target="_blank" rel="noopener" href="https://www.instagram.com/chawyehsu" class="icon" data-v-bad9f396 data-v-bad9f396>Instagram</a></li></ul></div></section> <section class="section column is-6" data-v-bad9f396><div class="copyright" data-v-bad9f396>
          © 2015-2020 Chawye Hsu. Made with <span style="color:#b30e2e" data-v-bad9f396>❤︎︎</span> in Guangzhou
        </div></section></div></div></footer></div></div><script src="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/js/styles.7a9fd07b.js" defer></script><script src="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/js/page--_posts-2015-08-23-use-scoop-to-enhance-windows-powershell-md.e5fc2404.js" defer></script><script src="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/js/client.7a0f1cc2.js" defer></script></body></html>
