<!DOCTYPE html><html data-saber-ssr lang="zh-CN" class="serif" data-saber-head="%7B%22lang%22:%7B%22ssr%22:%22zh-CN%22%7D,%22class%22:%7B%22ssr%22:%22serif%22%7D%7D"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="ie=edge" /><meta data-saber-head="ssr" name="generator" content="Saber v0.11.7"><meta data-saber-head="ssr" name="author" content="Chawye Hsu"><meta data-saber-head="ssr" property="og:type" content="website"><meta data-saber-head="ssr" name="twitter:card" content="summary"><meta data-saber-head="ssr" name="twitter:creator" content="Chawye Hsu"><meta data-saber-head="ssr" name="description" content="Personal Website of Chawye Hsu" data-hid="description"><meta data-saber-head="ssr" name="keywords" content="blog,blogger,个人博客,中文独立博客"><meta data-saber-head="ssr" property="og:title" content="用 Scoop 改善 Windows Powershell"><meta data-saber-head="ssr" property="og:description" content="Personal Website of Chawye Hsu"><meta data-saber-head="ssr" name="twitter:title" content="用 Scoop 改善 Windows Powershell"><meta data-saber-head="ssr" name="twitter:description" content="Personal Website of Chawye Hsu"><meta data-saber-head="ssr" property="og:image" content="https://chawyehsu.comhttps://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20181225013-70a83975.png"><meta data-saber-head="ssr" property="twitter:image:src" content="https://chawyehsu.comhttps://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20181225013-70a83975.png"> <title>用 Scoop 改善 Windows Powershell - The Art of Chawye Hsu</title> <link data-saber-head="ssr" rel="alternate" title="The Art of Chawye Hsu - Feed" href="https://chawyehsu.com/feed/atom.xml" type="application/atom+xml"><link data-saber-head="ssr" href="https://fonts.googleapis.com/" rel="preconnect" crossorigin="true"><link data-saber-head="ssr" href="https://fonts.gstatic.com/" rel="preconnect" crossorigin="true"><link data-saber-head="ssr" href="https://cdn.jsdelivr.net/" rel="preconnect" crossorigin="true"><link data-saber-head="ssr" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700|Alegreya:400,400i,700,700i|Noto+Sans+SC:400,700|Noto+Serif+SC:400,700|Open+Sans:400,400i,700,700i&amp;display=swap&amp;subset=chinese-simplified" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/css/styles.432c4125.chunk.css">  </head><body><div id="_saber" data-server-rendered="true"><div class="tach-root" data-v-122f4350><header class="tach-header" data-v-cec5f8de data-v-122f4350><div class="tach-wrapper" data-v-cec5f8de><nav class="navbar" data-v-cec5f8de><div class="container" data-v-cec5f8de><div class="column navbar-brand" data-v-cec5f8de><a href="/" class="navbar-item site-title router-link-active" data-v-cec5f8de>The Art of Chawye Hsu</a> <span class="navbar-burger burger" data-v-cec5f8de><span data-v-cec5f8de></span> <span data-v-cec5f8de></span> <span data-v-cec5f8de></span></span></div> <div class="column navbar-menu" data-v-cec5f8de><div class="navbar-end" data-v-cec5f8de><a href="/blog" class="navbar-item router-link-active" data-v-cec5f8de>Blog</a><a href="/guestbook" class="navbar-item" data-v-cec5f8de>Guestbook</a><a href="/links" class="navbar-item" data-v-cec5f8de>Links</a><a href="/about" class="navbar-item" data-v-cec5f8de>About</a></div></div></div></nav></div></header> <main class="tach-main" data-v-122f4350><!----> <article role="main" itemscope="itemscope" itemtype="https://schema.org/Article" class="page-content" data-v-122f4350><div class="page-inner-wrapper tach-page-wrapper" data-v-122f4350><header class="page-header page-has-cover" data-v-122f4350><section class="page-cover" data-v-122f4350><img src="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20181225013-70a83975.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAIAAADRv8uKAAAACXBIWXMAAAsTAAALEwEAmpwYAAADZElEQVRIx+2WS08TURTHL4hgYlwYXRrdGLe68wO4NH4A3Bh3asTyKFDRiMYHMQYXPlioC6M2gKCCxZbptLWUVmuBYmlLX4ba8n53OvfeGQrteKbgRhEHbVmR/HNze6c5v57zP+dOkZAkeRWfwJRb5xzllUq41RVvKZgkcIpQytMUEbYOjBNYEgR/dKaseYD1TmSo8EveKF9UUfRFZ+7ohmqanU+tEfiYXzCFCieJtCR6Rmaq2wfvfRh6Zg2lMV59lC8wtFKaELt/zDY8eeOd++Qj2xNLEKiA/L2xcwaG0MuYxsfnmb7wlTaXqmXgtSO0glcf/V9XQ2gYyg2EOTIzOWt0Rz97vjV0uiOj8yuErjtLm84YegT8k1LZdT1lKPWERtnBqHVwJBybhRqse3soBYNJIk+4xWSne0zrjL9yxltdo619sMZbfgr2WmdsODYPU7Q4uwCJLpM/UpWCMQfjQe8zfnSJQRXs/us9JTUmVG5EVSyqXFOR2oQuGOp0ASm1hLk1azaIiZRNCM0kuVNNdlRp2nXZ4p3gdL6pgip2p8ZcUmcpvixrV50FVZtav8TADpjjv4ZVAOZwCguT49OHb0FoM2RZqh2SJOlhbwyS3lFrLqw1w4pqzMAOxOYyRPhTQ20ODFEkQXR4RnbUsAW15iKNBZV1n2sfBna9IYJUTJEGDuUfdLTxU3KRh27YuMhKwVmDhceMF1UagQrJ7b76EV3svqYPA/tMsw/yluusYk6/+ArfVFJnhWAiEf7scycqZ0uydkLGRxocnrHE91n++AMXUpvkw3JjIxuBSeNzAgaDl7CwOD137K4VAEXQzCojZAkmNjlixZVGdF6/5nG1yR6YglnCXC7AYHCaiv5wfE+dCTprb71V2z+OqfjCNVatC13RhzVd4X31PWDwgZu28anECqYkJ+CsweLLngBSs1Dq828Cwcnkwdv2Uq23fzTxMTLX5Z8+1OBAZcyJx66MfEH++hb6ZzCRBHK1zYUuGgrVxmKNqVhtRJcMqIKBk6z0hVUMUhkauoNwZSrsLAUeJ8kST4KhaIfN09nrfWvzdvR6dXbfe7u8ynL4OnqHzH2h5AIn8lT5ta/oykxhmiZCmlD4BwOCjbwnQlbyfoUIdJOvUaUvCbgTNpaQD3A+tA3eBudNPwDdBKzYwMuxhQAAAABJRU5ErkJggg==" data-srcset="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20181225013-70a83975.png 600w,https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20181225013-4aa3f919.png 480w" width="600" class="image" data-v-122f4350> <span class="overlay" data-v-122f4350></span></section> <section class="page-head-content" data-v-122f4350><h1 class="page-title is-family-sans" data-v-122f4350>用 Scoop 改善 Windows Powershell</h1> <div class="page-meta" data-v-122f4350><section class="page-datetime" data-v-122f4350><time datetime="2015-08-23T15:19:11.000Z" class="published" data-v-122f4350>
                  2015-08-23
                </time></section> <section class="page-categories" data-v-122f4350><span data-v-122f4350><!----> <a href="/blog/category/technology" class="category" data-v-122f4350>
                    技术
                  </a></span></section></div></section></header> <!----> <section class="page-body" data-v-122f4350><Photoswipe auto="" data-v-122f4350><p style="text-align:center;" data-v-122f4350><strong data-v-122f4350><a href="/blog/2018/05/talk-about-scoop-the-package-manager-for-windows-again" data-v-122f4350>关于 Scoop 的新文章</a></strong></p> <h2 id="一本道" data-v-122f4350>一本道</h2> <p data-v-122f4350>软件包管理工具想必大家已经很清楚并且使用过。Debian/ Ubuntu 的 apt-get，
Arch Linux 的 Pacman，就连本身并无自带包管理工具的 Mac 都有了 Macports
和极其好用的 Homebrew。至于 Windows 下，
Geek 们也生产出各式各样的工具以贴合他们的 *nix 使用习惯。其中软件包管理工具中比较出名的就是 <strong data-v-122f4350><a rel="noopener noreferrer" target="_blank" href="https://chocolatey.org/" data-v-122f4350>chocolatey</a></strong> 了。</p> <p data-v-122f4350>然而本文并不细谈 chocolatey，而谈的是一个叫做 <strong data-v-122f4350><a rel="noopener noreferrer" target="_blank" href="http://scoop.sh/" data-v-122f4350>Scoop</a></strong>
工具。官网上的描述是“A command-line installer for Windows”，其实说白了，就是和 chocolatey 同属一种东西，也就是 Windows 下的软件包管理工具，但其并没有 chocolatey 出名与强大。</p> <p data-v-122f4350>那我为什么要用 Scoop 而不是 chocolatey？一正是 chocolatey 够强大，但其实我一开始并没打算折腾 Powershell，因为已经在用 Git Bash / MSYS2，所以我无需使用太过庞大的工具；二是 scoop 有吸引我的地方，它能把 Powershell
弄得看起来像 Linux shell 的样子，这也是为什么我要折腾 PS 的促因。</p> <div class="gad" data-v-122f4350><ins data-ad-client="ca-pub-4381515676738667" data-ad-slot="8422573867" data-ad-format="fluid" data-ad-region="page-0.1834468562179694" data-ad-layout="in-article" data-full-width-responsive="false" class="adsbygoogle" style="display:block;"></ins></div> <p data-v-122f4350>看 Scoop 主页的 Demo 视频，你会发现视频里的 PS 用起来很简约，而又是更方便了，不仅能安装运行各种 GNU 工具（<code data-v-122f4350>curl</code>、<code data-v-122f4350>vim</code> 等），而且 <code data-v-122f4350>$PS1</code> 看起来像是 Linux 下的终端，还能显示 git 仓库的分支信息，简直 Geek 范十足。虽说已有 MSYS2 这种更集成的 *nix 环境，但既然看到了 Scoop 又挺不错的于是就折腾下呗。毕竟是 Windows 内置的嘛，还能 Win + R powershell 快速打开，有时候打下指令（<code data-v-122f4350>ipconfig</code>、<code data-v-122f4350>nslookup</code> 什么的）还是会用到的呢。</p> <figure data-type="image" data-v-122f4350><img alt="" title="配置 Scoop 后的样子" src="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20150823002-dd0e6787.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAdCAIAAABXK7kkAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVRIx2P48+fPhw/v37979/7Dhw8fP75//x5IAllAxluqgHfvgBjGABLvgPb8/v2b4df3r/defbr76vP7F0/fv3335eOHj29ev335/PPbN/+pB4De+/H1C5Dx++fPN29eA33F8P7D+865S+qnz2ufObdp6uymuQubFy5pnjO/dd7C3pVr+las6V64tHPuIrJR++wFHXMWAlHbrPmts+ZPX7nu0ePHIItfvX6j7hnArGvGa2rPZ2zHaGDFZOXIoGvGoG/OYGjJoGXMIKPBIK3OIKtJPpIDkYwK2gziyrKWzoeOHQNGJsPrN2+sIhMl7Nyl7NyV3PyVXH0FTOy4DG05DKx5jO34TOwELJwEzJ1Y9a1Y9CwpQWz6VgwaxiqeQRcuXQYmIoaXr18rOPswaJkJmDvyAD1t5sRv7shr6sBjYi9s7Spp5y5t7wkkmXUtgGoYtMlHTDrmDKoGyh5BN27fBqYvUFBreAWx6llyGduyGVhxGtkALRa1dgXZpGnCoGUKIoFI24xCBLf4+q1bIB8Dg9okOFrE0lnW0ZPXzAHob2CwK7r6semaA0OGWrZisRgY1IquvkAf85jaiVg5cxvbsRtYsRtYA10gbOUCRILmjiDfU93iV2/eGAVGyTl5K7r4ansHS9p7AH0s6+wt7+yj7Oav7O4v7+QNdAcozKnuYxWPAEYtM0ZgkELCVgPOMAaxQTFNi6B+9VrW0YtBzZBJ14IRKKdtBiSREVUiGLuPZR29GdSMmKhnx6jFoxaPWjxq8ajFw8diOScfBnVjZnDtRDsEak2oGQIbe9dv3hwYH9+8cweplalhzKpnwaxrTjsENJ9B3VDFI/D02XMgi3/+/Hni7Pl9R48fOHaC1mj/0eNHTp0G9iSAlgIAyobPW9Wb2eIAAAAASUVORK5CYII=" data-srcset="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20150823002-dd0e6787.png 782w,https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20150823002-0f2791a2.png 720w,https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/images/20150823002-7d9d5087.png 480w" data-pswp-title="" width="782"><figcaption data-v-122f4350>配置 Scoop 后的样子</figcaption></figure> <h2 id="正题" data-v-122f4350>正题</h2> <ol data-v-122f4350><li data-v-122f4350><p data-v-122f4350>确保你已安装 Powershell 3（其实 Windows7+ 应该都已经集成了），然后 WIn + R 输入 powershell 打开 PS，一句命令安装 scoop：</p> <div class="saber-highlight" data-lang="powershell" data-v-122f4350><pre class="saber-highlight-code language-powershell" data-v-122f4350><code class="language-powershell" data-v-122f4350><span class="token function" data-v-122f4350>iex</span> <span class="token punctuation" data-v-122f4350>(</span><span class="token function" data-v-122f4350>new-object</span> net<span class="token punctuation" data-v-122f4350>.</span>webclient<span class="token punctuation" data-v-122f4350>)</span><span class="token punctuation" data-v-122f4350>.</span>downloadstring<span class="token punctuation" data-v-122f4350>(</span><span class="token string" data-v-122f4350>'https://get.scoop.sh'</span><span class="token punctuation" data-v-122f4350>)</span></code></pre></div></li> <li data-v-122f4350><p data-v-122f4350>安装完成后输入 <code data-v-122f4350>scoop help</code>，如果报错则需要允许 PS 提供脚本执行权限，执行：</p> <div class="saber-highlight" data-lang="powershell" data-v-122f4350><pre class="saber-highlight-code language-powershell" data-v-122f4350><code class="language-powershell" data-v-122f4350><span class="token function" data-v-122f4350>set-executionpolicy</span> unrestricted <span class="token operator" data-v-122f4350>-</span>s cu</code></pre></div></li> <li data-v-122f4350><p data-v-122f4350>然后就可以像 apt-get 那样 <code data-v-122f4350>install/uninstall</code> 软件包了：</p> <div class="saber-highlight" data-lang="powershell" data-v-122f4350><pre class="saber-highlight-code language-powershell" data-v-122f4350><code class="language-powershell" data-v-122f4350>scoop install pkgname</code></pre></div><p data-v-122f4350>用 scoop 安装软件包时不会弹出 UAC 要求提权，因为软件包是安装在当前用户的 <code data-v-122f4350>appdata</code> 下的，并通过 shims path 管理调用执行文件，而不是将每个执行文件的路径都加到 path 中。</p></li> <li data-v-122f4350><p data-v-122f4350>开始美化控制台显示样式（★）首先 <code data-v-122f4350>scoop install concfg</code> 安装 <code data-v-122f4350>concfg</code>，然后导入 Solarized 主题<code data-v-122f4350>concfg import solarized small</code>（concfg 支持多种主题，详见 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/concfg/tree/master/presets" data-v-122f4350>concfg/presets</a>），期间会提示你替换了哪些控制台（其实也就 <code data-v-122f4350>CMD</code> 和 <code data-v-122f4350>PS</code>）的样式。然后 <code data-v-122f4350>scoop install pshazz</code> 安装 <code data-v-122f4350>pshazz</code>，当安装完后马上就能看到 shell prompt 发生变化了，而且 cd 到一个 git 仓库还能看到分支信息，还支持 git auto-completion 呢。</p></li> <li data-v-122f4350><p data-v-122f4350>然后还可以安装使用 <code data-v-122f4350>touch</code>、<code data-v-122f4350>curl</code>、<code data-v-122f4350>vim</code> 等更多的 GNU 命令行工具。
scoop 官方的 Packages 是 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/tree/master/bucket" data-v-122f4350>bucket</a>，如果里面没有你想安装的工具你还可以<a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Buckets#creating-your-own-bucket" data-v-122f4350>自定义 bucket</a> 或 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Creating-an-app-manifest" data-v-122f4350>创建一个 package</a>。</p></li> <li data-v-122f4350><p data-v-122f4350>最后还能用 scoop 进行开发语言环境的<a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Switching-Ruby-and-Python-Versions" data-v-122f4350>多版本控制</a>呢，比如 <code data-v-122f4350>scoop install python27 python</code> 同时安装 Py2.7 和 Py3，然后 <code data-v-122f4350>scoop reset python27</code> 选择 Py2.7，<code data-v-122f4350>scoop reset python</code> 则设置为 Py3。</p></li></ol> <p data-v-122f4350>至于更详尽的使用方法请 <code data-v-122f4350>scoop help</code> 或访问 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki" data-v-122f4350>Scoop Wiki</a> 咯。</p> <p data-v-122f4350>总结：所以说这种人就只能为他们的这种“如此难以伺候”而不断地折腾自己的电脑，折腾自己。这就是所谓“生命不息，折腾不止”吧哈哈哈。。。卒</p></Photoswipe></section> <!----> <section class="page-comments" data-v-122f4350><div id="disqus_thread"></div></section> <footer class="page-footer" data-v-122f4350></footer></div></article></main> <footer class="tach-footer footer" data-v-7d3552d5 data-v-122f4350><div class="tach-wrapper" data-v-7d3552d5><div class="container columns" data-v-7d3552d5><section class="section column is-6" data-v-7d3552d5><div class="copyright" data-v-7d3552d5>
          © 2015-2020 Chawye Hsu. Made with <span style="color:#b30e2e" data-v-7d3552d5>❤︎︎</span> in Guangzhou
        </div></section> <section class="section column is-6" data-v-7d3552d5><div class="social-network" data-v-7d3552d5><ul data-v-7d3552d5><li data-v-7d3552d5><a target="_blank" rel="noopener" href="https://github.com/chawyehsu" class="icon" data-v-7d3552d5 data-v-7d3552d5>GitHub</a></li><li data-v-7d3552d5><a target="_blank" rel="noopener" href="https://twitter.com/intent/follow?screen_name=chawyehsu" class="icon" data-v-7d3552d5 data-v-7d3552d5>Twitter</a></li><li data-v-7d3552d5><a target="_blank" rel="noopener" href="https://www.instagram.com/chawyehsu" class="icon" data-v-7d3552d5 data-v-7d3552d5>Instagram</a></li></ul></div></section></div></div></footer></div></div><script src="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/js/styles.432c4125.js" defer></script><script src="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/js/page--_posts-2015-08-23-use-scoop-to-enhance-windows-powershell-md.df76ea5d.js" defer></script><script src="https://cdn.jsdelivr.net/gh/chawyehsu/chawyehsu.com@gh-pages/_saber/js/client.fedf553e.js" defer></script></body></html>
