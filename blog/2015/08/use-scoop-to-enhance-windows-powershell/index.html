<!DOCTYPE html><html data-saber-ssr lang="zh-CN" data-saber-head="lang"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="ie=edge" /><meta data-saber-head="ssr" name="generator" content="Saber v0.10.4"><meta data-saber-head="ssr" name="generator" content="Hexo"><meta data-saber-head="ssr" name="description" content="undefined"><meta data-saber-head="ssr" name="keywords" content="undefined"><meta data-saber-head="ssr" property="og:title" content="用 Scoop 改善 Windows Powershell"><meta data-saber-head="ssr" property="og:description" content="undefined"><meta data-saber-head="ssr" property="og:image" content="https://www.h404bi.com/_saber/images/20181225013-061f146a.png"><meta data-saber-head="ssr" property="og:type" content="website"><meta data-saber-head="ssr" name="twitter:card" content="summary"><meta data-saber-head="ssr" name="twitter:creator" content="h404bi"><meta data-saber-head="ssr" name="twitter:title" content="用 Scoop 改善 Windows Powershell"><meta data-saber-head="ssr" property="twitter:image:src" content="https://www.h404bi.com/_saber/images/20181225013-061f146a.png"> <title>用 Scoop 改善 Windows Powershell - The Art of Chawye Hsu</title> <link data-saber-head="ssr" rel="alternate" title="The Art of Chawye Hsu - Feed" href="/feed/atom.xml" type="application/atom+xml"><link data-saber-head="ssr" href="https://fonts.gstatic.com/" rel="preconnect" crossorigin="true"><link data-saber-head="ssr" href="https://cdn.jsdelivr.net/" rel="preconnect" crossorigin="true"><link data-saber-head="ssr" href="https://cdn.jsdelivr.net/npm/ionicons@4.5.5/dist/css/ionicons.min.css" rel="stylesheet"><link rel="stylesheet" href="/_saber/css/styles.1af27c57.chunk.css">  </head><body><div id="_saber" data-server-rendered="true"><div class="site-container"><div class="site-header-room" style="height:px;"><div style="position:relative;top:0;left:0;right:0;z-index:99;"><header id="site-header" class="site-header"><div class="wrap columns is-gapless is-mobile"><div class="column is-3-desktop"><a href="/blog" class="site-title router-link-active">
          Chawye Hsu's Blog
        </a></div> <div class="topbar-nav-wrap column is-9-desktop"><nav class="topbar-nav"><ul><li><a href="/" class="router-link-active">Home</a></li><li><a href="/about">About</a></li></ul></nav></div></div></header></div></div> <main class="site-wrapper"><div class="page-content"><article itemscope="itemscope" itemtype="https://schema.org/Article"><header class="page-header"><h1 class="page-title">用 Scoop 改善 Windows Powershell</h1> <div class="page-meta"><section class="page-datetime"><time datetime="2015-08-23T15:19:11.000Z" class="published">
                2015-08-23
              </time></section> <section class="page-categories"><span><!----> <a href="/blog/category/technology" class="category">
                  技术
                </a></span></section></div></header> <section class="page-alert outdated-alert notification">
          本文最后更新于 1513 天前（2015-Sep-04），其中的信息可能已经有所发展或者不再适合现阶段。
        </section> <section class="page-body"><Photoswipe auto=""><p style="text-align:center;"><strong><a href="/blog/2018/05/talk-about-scoop-the-package-manager-for-windows-again">关于 Scoop 的新文章</a></strong></p> <h2 id="一本道">一本道</h2> <p>软件包管理工具想必大家已经很清楚并且使用过。Debian/ Ubuntu 的 apt-get，
Arch Linux 的 Pacman，就连本身并无自带包管理工具的 Mac 都有了 Macports
和极其好用的 Homebrew。至于 Windows 下，
Geek 们也生产出各式各样的工具以贴合他们的 *nix 使用习惯。其中软件包管理工具中比较出名的就是 <strong><a rel="noopener noreferrer" target="_blank" href="https://chocolatey.org/">chocolatey</a></strong> 了。</p> <p>然而本文并不细谈 chocolatey，而谈的是一个叫做 <strong><a rel="noopener noreferrer" target="_blank" href="http://scoop.sh/">Scoop</a></strong>
工具。官网上的描述是“A command-line installer for Windows”，其实说白了，就是和 chocolatey 同属一种东西，也就是 Windows 下的软件包管理工具，但其并没有 chocolatey 出名与强大。</p> <p>那我为什么要用 Scoop 而不是 chocolatey？一正是 chocolatey 够强大，但其实我一开始并没打算折腾 Powershell，因为已经在用 Git Bash / MSYS2，所以我无需使用太过庞大的工具；二是 scoop 有吸引我的地方，它能把 Powershell
弄得看起来像 Linux shell 的样子，这也是为什么我要折腾 PS 的促因。</p> <p>看 Scoop 主页的 Demo 视频，你会发现视频里的 PS 用起来很简约，而又是更方便了，不仅能安装运行各种 GNU 工具（<code>curl</code>、<code>vim</code> 等），而且 <code>$PS1</code> 看起来像是 Linux 下的终端，还能显示 git 仓库的分支信息，简直 Geek 范十足。虽说已有 MSYS2 这种更集成的 *nix 环境，但既然看到了 Scoop 又挺不错的于是就折腾下呗。毕竟是 Windows 内置的嘛，还能 Win + R powershell 快速打开，有时候打下指令（<code>ipconfig</code>、<code>nslookup</code> 什么的）还是会用到的呢。</p> <figure data-type="image"><img alt="配置 Scoop 后的样子" title="配置 Scoop 后的样子" src="/_saber/images/20150823002-ad81f904.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAdCAIAAABXK7kkAAAACXBIWXMAAAsSAAALEgHS3X78AAACpklEQVRIx2P4++/fj+/fvn/7+vXbdyD+CgLfvn4DoU/UAZ/B6NOXL19AnC9fvn379vfvX4ZfP7/fe/H2xtM3r549fv3q9dvXr9++evny+bPXL57//fXr/58/IPSXfPT3969/v38DyQ/v3v7/9/fbl88vX7788OEDw7evX7YfO7fxyJndBw9t239478nTO48e33HoyO5jx8/euHX+9p1zN26dvXr97LUb5KDrN05dvgpEZ65eP3z6HJA8d/XGK6Df3rxh+Pjpk1FgJLuehYi1q5C5E5OpPYe7L7O1MxMQ2bkymDswqBsxKOsxqOiTiVQNGFSASJ8RaI68lriVy4EjRz98eM8ADHePlGwpB08pO3dlN38FFx8+EztmXQsWPUs2Ays2fSt2A2sgAnIpRKz6VgxaptKO3keOn/jw/j3Ix3r+EUw65qJWrsKWLqLWbkKWzoKWznxmDqI2brKOnvLOPvJO3qx6lkBtDNpmZCNGHXMGNUMpR+/L169//AC2WMsnBBieQEcx6ZoDSXZDG04jG6CngaqBDmIEagPqocBKNIsvXrkKDurPn53iUsWsXRWcfQUtnEWsXGQdvXV8QzkNrRk0TUC+pMyjWCy+CrYY6GNtn1CgHRyGNuyG1sAgBapgBHpdHxzHYMRIXR9DLAYmLsuIBBlHTxU3f4OAcGCMitu5K7r6Krn6aXuHaHgFq3n4cxnZUO5vLD42Do5m07cERirIrzDPMYHZQMREDe9itxjoLQZVQ3QLqBS1BC02oJbPRi0etXjU4lGLRy0etZjipg9qm8uCdogZ2FzUMJZx8gU29kAWf/j4ScXRi0FKlUlJh0FBm3aIUVGHQVpNwtzxxJmzH96/Y/jx48e0xctr+yc3TZ7eOGkaTVH9hCnds+Zeunz565cvANUg0BJn5xqWAAAAAElFTkSuQmCC" data-srcset="/_saber/images/20150823002-ad81f904.png 782w,/_saber/images/20150823002-d7069d51.png 720w,/_saber/images/20150823002-0324b887.png 480w" data-pswp-title="配置 Scoop 后的样子" width="782" class="undefined"><figcaption>配置 Scoop 后的样子</figcaption></figure> <h2 id="正题">正题</h2> <ol><li><p>确保你已安装 Powershell 3（其实 Windows7+ 应该都已经集成了），然后 WIn + R 输入 powershell 打开 PS，一句命令安装 scoop：</p> <div class="saber-highlight" data-lang="powershell"><pre class="saber-highlight-code language-powershell"><code class="language-powershell"><span class="token function">iex</span> <span class="token punctuation">(</span><span class="token function">new-object</span> net<span class="token punctuation">.</span>webclient<span class="token punctuation">)</span><span class="token punctuation">.</span>downloadstring<span class="token punctuation">(</span><span class="token string">'https://get.scoop.sh'</span><span class="token punctuation">)</span></code></pre></div></li> <li><p>安装完成后输入 <code>scoop help</code>，如果报错则需要允许 PS 提供脚本执行权限，执行：</p> <div class="saber-highlight" data-lang="powershell"><pre class="saber-highlight-code language-powershell"><code class="language-powershell"><span class="token function">set</span><span class="token operator">-</span>executionpolicy unrestricted <span class="token operator">-</span>s cu</code></pre></div></li> <li><p>然后就可以像 apt-get 那样 <code>install/uninstall</code> 软件包了：</p> <div class="saber-highlight" data-lang="powershell"><pre class="saber-highlight-code language-powershell"><code class="language-powershell">scoop install pkgname</code></pre></div><p>用 scoop 安装软件包时不会弹出 UAC 要求提权，因为软件包是安装在当前用户的 <code>appdata</code> 下的，并通过 shims path 管理调用执行文件，而不是将每个执行文件的路径都加到 path 中。</p></li> <li><p>开始美化控制台显示样式（★）首先 <code>scoop install concfg</code> 安装 <code>concfg</code>，然后导入 Solarized 主题<code>concfg import solarized small</code>（concfg 支持多种主题，详见 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/concfg/tree/master/presets">concfg/presets</a>），期间会提示你替换了哪些控制台（其实也就 <code>CMD</code> 和 <code>PS</code>）的样式。然后 <code>scoop install pshazz</code> 安装 <code>pshazz</code>，当安装完后马上就能看到 shell prompt 发生变化了，而且 cd 到一个 git 仓库还能看到分支信息，还支持 git auto-completion 呢。</p></li> <li><p>然后还可以安装使用 <code>touch</code>、<code>curl</code>、<code>vim</code> 等更多的 GNU 命令行工具。
scoop 官方的 Packages 是 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/tree/master/bucket">bucket</a>，如果里面没有你想安装的工具你还可以<a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Buckets#creating-your-own-bucket">自定义 bucket</a> 或 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Creating-an-app-manifest">创建一个 package</a>。</p></li> <li><p>最后还能用 scoop 进行开发语言环境的<a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Switching-Ruby-and-Python-Versions">多版本控制</a>呢，比如 <code>scoop install python27 python</code> 同时安装 Py2.7 和 Py3，然后 <code>scoop reset python27</code> 选择 Py2.7，<code>scoop reset python</code> 则设置为 Py3。</p></li></ol> <p>至于更详尽的使用方法请 <code>scoop help</code> 或访问 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki">Scoop Wiki</a> 咯。</p> <p>总结：所以说这种人就只能为他们的这种“如此难以伺候”而不断地折腾自己的电脑，折腾自己。这就是所谓“生命不息，折腾不止”吧哈哈哈。。。卒</p></Photoswipe></section> <!----> <section class="page-comments" data-v-0bc35286><div id="load-disqus" data-v-0bc35286><a class="button" data-v-0bc35286>Leave a comment</a></div> <div id="disqus_thread" data-v-0bc35286></div></section> <footer class="page-footer"></footer></article></div></main> <footer id="site-footer" class="site-footer"><div class="wrap"><section class="section"><nav class="footer-nav"><ul><li><a href="/" class="router-link-active">Home</a></li><li><a href="/about">About</a></li><li><a href="/guestbook">Guestbook</a></li><li><a href="/links">Links</a></li><li><a target="_blank" rel="noopener" href="/feed/atom.xml">RSS</a></li></ul></nav></section> <section class="section"><div class="social-network"><ul><li><a target="_blank" rel="noopener" href="https://twitter.com/h404bi" class="icon ion-logo-twitter"></a></li><li><a target="_blank" rel="noopener" href="https://www.instagram.com/chawyehsu/" class="icon ion-logo-instagram"></a></li><li><a target="_blank" rel="noopener" href="https://github.com/h404bi" class="icon ion-logo-github"></a></li><li><a target="_blank" rel="noopener" href="https://steamcommunity.com/id/h404bi/" class="icon ion-logo-game-controller-b"></a></li><li><a target="_blank" rel="noopener" href="https://music.163.com/#/user/home?id=35631431" class="icon ion-ios-musical-notes"></a></li></ul></div></section> <section class="section"><div class="copyright">© 2015-2019 h404bi</div></section></div></footer></div></div><script src="/_saber/js/styles.1af27c57.js" defer></script><script src="/_saber/js/page--_posts-2015-08-23-use-scoop-to-enhance-windows-powershell-md.15539c07.js" defer></script><script src="/_saber/js/client.167cc941.js" defer></script></body></html>
