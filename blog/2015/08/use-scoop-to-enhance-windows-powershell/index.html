<!DOCTYPE html><html data-saber-ssr lang="zh-CN" class="serif" data-saber-head="%7B%22lang%22:%7B%22ssr%22:%22zh-CN%22%7D,%22class%22:%7B%22ssr%22:%22serif%22%7D%7D"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="ie=edge" /><meta data-saber-head="ssr" name="generator" content="Saber v0.11.5"><meta data-saber-head="ssr" name="description" content="Personal Website of Chawye Hsu."><meta data-saber-head="ssr" name="description" content="undefined"><meta data-saber-head="ssr" name="keywords" content="undefined"><meta data-saber-head="ssr" property="og:title" content="用 Scoop 改善 Windows Powershell"><meta data-saber-head="ssr" property="og:description" content="undefined"><meta data-saber-head="ssr" property="og:image" content="https://www.h404bi.com/_saber/images/20181225013-28be324a.png"><meta data-saber-head="ssr" property="og:type" content="website"><meta data-saber-head="ssr" name="twitter:card" content="summary"><meta data-saber-head="ssr" name="twitter:creator" content="Chawye Hsu"><meta data-saber-head="ssr" name="twitter:title" content="用 Scoop 改善 Windows Powershell"><meta data-saber-head="ssr" property="twitter:image:src" content="https://www.h404bi.com/_saber/images/20181225013-28be324a.png"> <title>用 Scoop 改善 Windows Powershell - The Art of Chawye Hsu</title> <link data-saber-head="ssr" rel="alternate" title="The Art of Chawye Hsu - Feed" href="/feed/atom.xml" type="application/atom+xml"><link data-saber-head="ssr" href="https://fonts.googleapis.com/" rel="preconnect" crossorigin="true"><link data-saber-head="ssr" href="https://fonts.gstatic.com/" rel="preconnect" crossorigin="true"><link data-saber-head="ssr" href="https://cdn.jsdelivr.net/" rel="preconnect" crossorigin="true"><link data-saber-head="ssr" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700|Alegreya:400,400i,700,700i|Noto+Sans+SC:400,700|Noto+Serif+SC:400,700|Open+Sans:400,400i,700,700i&amp;display=swap&amp;subset=chinese-simplified" rel="stylesheet"><link rel="stylesheet" href="/_saber/css/styles.7036ed27.chunk.css">  </head><body><div id="_saber" data-server-rendered="true"><div class="tach-root" data-v-1b68836d><header class="tach-header" data-v-cec5f8de data-v-1b68836d><div class="tach-wrapper" data-v-cec5f8de><nav class="navbar" data-v-cec5f8de><div class="container" data-v-cec5f8de><div class="column navbar-brand" data-v-cec5f8de><a href="/" class="navbar-item site-title router-link-active" data-v-cec5f8de>The Art of Chawye Hsu</a> <span class="navbar-burger burger" data-v-cec5f8de><span data-v-cec5f8de></span> <span data-v-cec5f8de></span> <span data-v-cec5f8de></span></span></div> <div class="column navbar-menu" data-v-cec5f8de><div class="navbar-end" data-v-cec5f8de><a href="/blog" class="navbar-item router-link-active" data-v-cec5f8de>Blog</a><a href="/guestbook" class="navbar-item" data-v-cec5f8de>Guestbook</a><a href="/links" class="navbar-item" data-v-cec5f8de>Links</a><a href="/about" class="navbar-item" data-v-cec5f8de>About</a></div></div></div></nav></div></header> <main class="tach-main" data-v-1b68836d><!----> <article role="main" itemscope="itemscope" itemtype="https://schema.org/Article" class="page-content" data-v-1b68836d><div class="page-inner-wrapper tach-page-wrapper" data-v-1b68836d><header class="page-header page-has-cover" data-v-1b68836d><section class="page-cover" data-v-1b68836d><img src="/_saber/images/20181225013-28be324a.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAIAAADRv8uKAAAACXBIWXMAAAsSAAALEgHS3X78AAADXUlEQVRIx+2Wy08TURTGLxRU1Kgr48aFLty4MfEP0EQTEzdudG+iiWIEChQEfMYEgkpM0AQkUVASUDGRaG1pp9PyLq20gOXRYnm2lVjb0k57Z+4UpOOZ6ob3FCkrki+TZprc3z3nfOecQSTMJlUcs/J7lFQqy7B8GK/ITiKYDeE5zIUZNoo5fsvAOIQFwk94AvJ31g+9rhhHWAYnHRynEqfLX6a03W4yV1J2uETSwZhhBZ4fdflzm/or1LYq2j6PRSSXvFSDlQSOM9k9+qGZR8qB88/bnmpG5iOYj3DL/bVpYAgoGuG83iBlGSv/ZL3ZaGnodJBwhBM7Cv+Xq+GISAivJYYN+ma1fZPmwYknSuu38V8Ct7S0G4w4RgjUT4jGxS9VDJ6EOMZ/GAam2gcmRqe80EibMECgL5X9ntfG6VddU2+M041mV4NpkeAvy5gP2OFAkA1FfrNkNapUMGawwJO69lGUo0Vy7cEHHXuLDChLi/IolPtPafk6dF19pdEmzEUxs9awTAAs2hVHLteZUB6dUki3Of397tCeYkNqIb2rxLCjWFRGSSvK11W3j0MVoI/XPRNJmPLQD4Tx+U8+bkMKPZx+utoixBaabT9T8nQpBbSsSJ96Sy+7pUcFdM/oT0j1aoZKDAynLHD80HfXvhIaFerTiw2Q8Au1/YIQe2F0wT0AmVakRwr6SFnnjDc0v7qhEgOL84/nGzvsUFFZkQEwGbdb0TX11beDgiDcaXHCPSDhSE6dq7FIDFcaGApMWMX7XpRD7YyXE2Vrj5Z2maZmXQF8qsoCscJ7AJd8tgtzkgq8PjieNI4Phs5UdqJ8Oq2QRlmai/Xf/GGu1uzZXUCDk8FiYv5zqWarW6KzpIDxPEump2cO3ReruP9u60uTG5NoQ6/ngWbsITVWrh8/XAp30h2412p3BZavvw2C4x3Mq746ISwk112qtzm9kWPl3WdrrMbJoNbhaxn5dbzCBMk/UWEk4RW20EbBorPIM3UfylLLFFpZAZWep4HfSK5BmSp0Q4Uyv6TmalC2WvFxUHqeJdUYds7khFvVPfjFOKzsHlb3DLf0iE/KPPJXKuOQ7qsj4AvC+pM+gKUMEBbKvHwlLFYU7sclsm+Q9K/UtZXo/kbJ/q7eBm+Dt1x/AB8brTcj5boOAAAAAElFTkSuQmCC" data-srcset="/_saber/images/20181225013-28be324a.png 600w,/_saber/images/20181225013-1eea2bc6.png 480w" width="600" class="image" data-v-1b68836d> <span class="overlay" data-v-1b68836d></span></section> <section class="page-head-content" data-v-1b68836d><h1 class="page-title is-family-sans" data-v-1b68836d>用 Scoop 改善 Windows Powershell</h1> <div class="page-meta" data-v-1b68836d><section class="page-datetime" data-v-1b68836d><time datetime="2015-08-23T15:19:11.000Z" class="published" data-v-1b68836d>
                  2015-08-23 23:19:11
                </time></section> <section class="page-categories" data-v-1b68836d><span data-v-1b68836d><!----> <a href="/blog/category/technology" class="category" data-v-1b68836d>
                    技术
                  </a></span></section></div></section></header> <section class="page-alert outdated-alert notification" data-v-1b68836d>
          本文最后更新于 1681 天前（2015-Sep-04），其中的信息可能已经有所发展或者不再适合现阶段。
        </section> <section class="page-body" data-v-1b68836d><Photoswipe auto="" data-v-1b68836d><p style="text-align:center;" data-v-1b68836d><strong data-v-1b68836d><a href="/blog/2018/05/talk-about-scoop-the-package-manager-for-windows-again">关于 Scoop 的新文章</a></strong></p> <h2 id="一本道" data-v-1b68836d>一本道</h2> <p data-v-1b68836d>软件包管理工具想必大家已经很清楚并且使用过。Debian/ Ubuntu 的 apt-get，
Arch Linux 的 Pacman，就连本身并无自带包管理工具的 Mac 都有了 Macports
和极其好用的 Homebrew。至于 Windows 下，
Geek 们也生产出各式各样的工具以贴合他们的 *nix 使用习惯。其中软件包管理工具中比较出名的就是 <strong data-v-1b68836d><a rel="noopener noreferrer" target="_blank" href="https://chocolatey.org/" data-v-1b68836d>chocolatey</a></strong> 了。</p> <p data-v-1b68836d>然而本文并不细谈 chocolatey，而谈的是一个叫做 <strong data-v-1b68836d><a rel="noopener noreferrer" target="_blank" href="http://scoop.sh/" data-v-1b68836d>Scoop</a></strong>
工具。官网上的描述是“A command-line installer for Windows”，其实说白了，就是和 chocolatey 同属一种东西，也就是 Windows 下的软件包管理工具，但其并没有 chocolatey 出名与强大。</p> <p data-v-1b68836d>那我为什么要用 Scoop 而不是 chocolatey？一正是 chocolatey 够强大，但其实我一开始并没打算折腾 Powershell，因为已经在用 Git Bash / MSYS2，所以我无需使用太过庞大的工具；二是 scoop 有吸引我的地方，它能把 Powershell
弄得看起来像 Linux shell 的样子，这也是为什么我要折腾 PS 的促因。</p> <p data-v-1b68836d>看 Scoop 主页的 Demo 视频，你会发现视频里的 PS 用起来很简约，而又是更方便了，不仅能安装运行各种 GNU 工具（<code data-v-1b68836d>curl</code>、<code data-v-1b68836d>vim</code> 等），而且 <code data-v-1b68836d>$PS1</code> 看起来像是 Linux 下的终端，还能显示 git 仓库的分支信息，简直 Geek 范十足。虽说已有 MSYS2 这种更集成的 *nix 环境，但既然看到了 Scoop 又挺不错的于是就折腾下呗。毕竟是 Windows 内置的嘛，还能 Win + R powershell 快速打开，有时候打下指令（<code data-v-1b68836d>ipconfig</code>、<code data-v-1b68836d>nslookup</code> 什么的）还是会用到的呢。</p> <figure data-type="image" data-v-1b68836d><img alt="" title="配置 Scoop 后的样子" src="/_saber/images/20150823002-ad81f904.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAdCAIAAABXK7kkAAAACXBIWXMAAAsSAAALEgHS3X78AAACpklEQVRIx2P4++/fj+/fvn/7+vXbdyD+CgLfvn4DoU/UAZ/B6NOXL19AnC9fvn379vfvX4ZfP7/fe/H2xtM3r549fv3q9dvXr9++evny+bPXL57//fXr/58/IPSXfPT3969/v38DyQ/v3v7/9/fbl88vX7788OEDw7evX7YfO7fxyJndBw9t239478nTO48e33HoyO5jx8/euHX+9p1zN26dvXr97LUb5KDrN05dvgpEZ65eP3z6HJA8d/XGK6Df3rxh+Pjpk1FgJLuehYi1q5C5E5OpPYe7L7O1MxMQ2bkymDswqBsxKOsxqOiTiVQNGFSASJ8RaI68lriVy4EjRz98eM8ADHePlGwpB08pO3dlN38FFx8+EztmXQsWPUs2Ays2fSt2A2sgAnIpRKz6VgxaptKO3keOn/jw/j3Ix3r+EUw65qJWrsKWLqLWbkKWzoKWznxmDqI2brKOnvLOPvJO3qx6lkBtDNpmZCNGHXMGNUMpR+/L169//AC2WMsnBBieQEcx6ZoDSXZDG04jG6CngaqBDmIEagPqocBKNIsvXrkKDurPn53iUsWsXRWcfQUtnEWsXGQdvXV8QzkNrRk0TUC+pMyjWCy+CrYY6GNtn1CgHRyGNuyG1sAgBapgBHpdHxzHYMRIXR9DLAYmLsuIBBlHTxU3f4OAcGCMitu5K7r6Krn6aXuHaHgFq3n4cxnZUO5vLD42Do5m07cERirIrzDPMYHZQMREDe9itxjoLQZVQ3QLqBS1BC02oJbPRi0etXjU4lGLRy0etZjipg9qm8uCdogZ2FzUMJZx8gU29kAWf/j4ScXRi0FKlUlJh0FBm3aIUVGHQVpNwtzxxJmzH96/Y/jx48e0xctr+yc3TZ7eOGkaTVH9hCnds+Zeunz565cvANUg0BJn5xqWAAAAAElFTkSuQmCC" data-srcset="/_saber/images/20150823002-ad81f904.png 782w,/_saber/images/20150823002-d7069d51.png 720w,/_saber/images/20150823002-0324b887.png 480w" data-pswp-title="" width="782"><figcaption data-v-1b68836d>配置 Scoop 后的样子</figcaption></figure> <h2 id="正题" data-v-1b68836d>正题</h2> <ol data-v-1b68836d><li data-v-1b68836d><p data-v-1b68836d>确保你已安装 Powershell 3（其实 Windows7+ 应该都已经集成了），然后 WIn + R 输入 powershell 打开 PS，一句命令安装 scoop：</p> <div class="saber-highlight" data-lang="powershell" data-v-1b68836d><pre class="saber-highlight-code language-powershell" data-v-1b68836d><code class="language-powershell" data-v-1b68836d><span class="token function" data-v-1b68836d>iex</span> <span class="token punctuation" data-v-1b68836d>(</span><span class="token function" data-v-1b68836d>new-object</span> net<span class="token punctuation" data-v-1b68836d>.</span>webclient<span class="token punctuation" data-v-1b68836d>)</span><span class="token punctuation" data-v-1b68836d>.</span>downloadstring<span class="token punctuation" data-v-1b68836d>(</span><span class="token string" data-v-1b68836d>'https://get.scoop.sh'</span><span class="token punctuation" data-v-1b68836d>)</span></code></pre></div></li> <li data-v-1b68836d><p data-v-1b68836d>安装完成后输入 <code data-v-1b68836d>scoop help</code>，如果报错则需要允许 PS 提供脚本执行权限，执行：</p> <div class="saber-highlight" data-lang="powershell" data-v-1b68836d><pre class="saber-highlight-code language-powershell" data-v-1b68836d><code class="language-powershell" data-v-1b68836d><span class="token function" data-v-1b68836d>set</span><span class="token operator" data-v-1b68836d>-</span>executionpolicy unrestricted <span class="token operator" data-v-1b68836d>-</span>s cu</code></pre></div></li> <li data-v-1b68836d><p data-v-1b68836d>然后就可以像 apt-get 那样 <code data-v-1b68836d>install/uninstall</code> 软件包了：</p> <div class="saber-highlight" data-lang="powershell" data-v-1b68836d><pre class="saber-highlight-code language-powershell" data-v-1b68836d><code class="language-powershell" data-v-1b68836d>scoop install pkgname</code></pre></div><p data-v-1b68836d>用 scoop 安装软件包时不会弹出 UAC 要求提权，因为软件包是安装在当前用户的 <code data-v-1b68836d>appdata</code> 下的，并通过 shims path 管理调用执行文件，而不是将每个执行文件的路径都加到 path 中。</p></li> <li data-v-1b68836d><p data-v-1b68836d>开始美化控制台显示样式（★）首先 <code data-v-1b68836d>scoop install concfg</code> 安装 <code data-v-1b68836d>concfg</code>，然后导入 Solarized 主题<code data-v-1b68836d>concfg import solarized small</code>（concfg 支持多种主题，详见 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/concfg/tree/master/presets" data-v-1b68836d>concfg/presets</a>），期间会提示你替换了哪些控制台（其实也就 <code data-v-1b68836d>CMD</code> 和 <code data-v-1b68836d>PS</code>）的样式。然后 <code data-v-1b68836d>scoop install pshazz</code> 安装 <code data-v-1b68836d>pshazz</code>，当安装完后马上就能看到 shell prompt 发生变化了，而且 cd 到一个 git 仓库还能看到分支信息，还支持 git auto-completion 呢。</p></li> <li data-v-1b68836d><p data-v-1b68836d>然后还可以安装使用 <code data-v-1b68836d>touch</code>、<code data-v-1b68836d>curl</code>、<code data-v-1b68836d>vim</code> 等更多的 GNU 命令行工具。
scoop 官方的 Packages 是 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/tree/master/bucket" data-v-1b68836d>bucket</a>，如果里面没有你想安装的工具你还可以<a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Buckets#creating-your-own-bucket" data-v-1b68836d>自定义 bucket</a> 或 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Creating-an-app-manifest" data-v-1b68836d>创建一个 package</a>。</p></li> <li data-v-1b68836d><p data-v-1b68836d>最后还能用 scoop 进行开发语言环境的<a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki/Switching-Ruby-and-Python-Versions" data-v-1b68836d>多版本控制</a>呢，比如 <code data-v-1b68836d>scoop install python27 python</code> 同时安装 Py2.7 和 Py3，然后 <code data-v-1b68836d>scoop reset python27</code> 选择 Py2.7，<code data-v-1b68836d>scoop reset python</code> 则设置为 Py3。</p></li></ol> <p data-v-1b68836d>至于更详尽的使用方法请 <code data-v-1b68836d>scoop help</code> 或访问 <a rel="noopener noreferrer" target="_blank" href="https://github.com/lukesampson/scoop/wiki" data-v-1b68836d>Scoop Wiki</a> 咯。</p> <p data-v-1b68836d>总结：所以说这种人就只能为他们的这种“如此难以伺候”而不断地折腾自己的电脑，折腾自己。这就是所谓“生命不息，折腾不止”吧哈哈哈。。。卒</p></Photoswipe></section> <!----> <section class="page-comments" data-v-1b68836d><div id="disqus_thread"></div></section> <footer class="page-footer" data-v-1b68836d></footer></div></article></main> <footer class="tach-footer footer" data-v-7d3552d5 data-v-1b68836d><div class="tach-wrapper" data-v-7d3552d5><div class="container columns" data-v-7d3552d5><section class="section column is-6" data-v-7d3552d5><div class="copyright" data-v-7d3552d5>
          © 2015-2020 Chawye Hsu. Made with <span style="color:#b30e2e" data-v-7d3552d5>❤︎︎</span> in Guangzhou
        </div></section> <section class="section column is-6" data-v-7d3552d5><div class="social-network" data-v-7d3552d5><ul data-v-7d3552d5><li data-v-7d3552d5><a target="_blank" rel="noopener" href="https://www.instagram.com/chawyehsu/" class="icon" data-v-7d3552d5 data-v-7d3552d5>Instagram</a></li><li data-v-7d3552d5><a target="_blank" rel="noopener" href="https://music.163.com/#/user/home?id=35631431" class="icon" data-v-7d3552d5 data-v-7d3552d5>Music</a></li><li data-v-7d3552d5><a target="_blank" rel="noopener" href="https://github.com/h404bi" class="icon" data-v-7d3552d5 data-v-7d3552d5>GitHub</a></li><li data-v-7d3552d5><a target="_blank" rel="noopener" href="https://twitter.com/chawyehsu" class="icon" data-v-7d3552d5 data-v-7d3552d5>Twitter</a></li><li data-v-7d3552d5><a target="_blank" rel="noopener" href="https://steamcommunity.com/id/h404bi/" class="icon" data-v-7d3552d5 data-v-7d3552d5>Steam</a></li></ul></div></section></div></div></footer></div></div><script src="/_saber/js/styles.7036ed27.js" defer></script><script src="/_saber/js/page--_posts-2015-08-23-use-scoop-to-enhance-windows-powershell-md.bee118bb.js" defer></script><script src="/_saber/js/client.1ea67561.js" defer></script></body></html>
